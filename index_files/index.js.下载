function copyaddurl(a){0==set.reprint.addurl?addarelt(set.reprint.msg,"succ"):100<a.length?(addarelt(set.reprint.msg,"succ"),JScopyText(a+"\n \u3010\u6765\u6e90\uff1a"+set.reprint.siteurl+"\uff0c\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u3011")):addarelt(set.reprint.msg,"succ")}function mobile_menuclick(a,c){$(".user-menu .sub-menu").css("visibility","hidden");$(".user-menu .sub-menu").css("opacity","0");"hidden"==$(c).parent().find(".sub-menu").css("visibility")?($(c).parent().find(".sub-menu").css("opacity","1"),$(c).parent().find(".sub-menu").css("visibility","visible")):"hidden"==$(c).parent().parent().find(".user-sub-menu").css("visibility")&&($(c).parent().parent().find(".sub-menu").css("opacity","1"),$(c).parent().parent().find(".sub-menu").css("visibility","visible"));a.stopPropagation()}$(document).ready(function(){"rgb(255, 255, 255)"!=$(".cp-pop-window-title\x3ediv").css("background-color")&&$(".cp-pop-close").css("color","#fff");$("#app").scroll(function(){var b=$("#app").scrollTop();$(window).height();$("#app").height();100<b?$(".go-top-plane").addClass("go-top-plane-show"):$(".go-top-plane").removeClass("go-top-plane-show");1!=set.is_single&&1!=set.is_page||"visible"!=$("#post-catalog").css("visibility")||$(".post-content h2[catalog],.post-content h3[catalog]").each(function(){var b=this.getBoundingClientRect().y;256>b&&0<b&&(b=$(this).attr("catalog"),set_catalog_css(),$("p[catalog\x3d"+b+"]").addClass("catalog-hover"))})});document.body.oncopy=function(){if(1!=set.isusercenter){var b=window.getSelection().toString();if(1==set.reprint.open){if(1==set.reprint.copylenopen&&b.length>set.reprint.copylen)return addarelt("\u590d\u5236\u5185\u5bb9\u592a\u957f\uff0c\u7981\u6b62\u590d\u5236","erro"),event.preventDefault(),!1;copyaddurl(b)}}};$(".menu-mobile .menu-item-has-children").append('\x3cdiv class\x3d"mobile-m-dropdown"\x3e\x3ci class\x3d"fa fa-angle-down"\x3e\x3c/i\x3e\x3c/div\x3e');$(".menu-mobile .mobile-m-dropdown").click(function(){$(this).parent().children(".mobile-m-dropdown").children().toggleClass("m-dropdown-show-i");$(this).parent().children(".sub-menu").slideToggle()});$(".go-top-plane").click(function(){$("#app").animate({scrollTop:"0px"},500)});$(".drawer-menu-list").click(function(b){$(".user-menu .sub-menu").css("visibility","hidden");$(".user-menu .sub-menu").css("opacity","0");$(".user-menu .sub-menu").removeClass("sub-menu-hide");$(".user-menu .sub-menu").removeClass("sub-menu-show");b.stopPropagation()});$(".tag-cloud-link").each(function(){var b="#67C23A #E6A23C #F56C6C #909399 #CC9966 #FF6666 #99CCFF #FF9999 #CC6633".split(" "),b=b[Math.floor(Math.random()*b.length)];$(this).css("background-color",b)});if(1==set.is_single||1==set.is_page){if(1==set.corepress_post_meta.catalog){var a=0,c="";$(".post-content h2,.post-content h3").each(function(){var b=$(this)[0].tagName.toLowerCase();console.log();"zd-plane-content"!=$(this).parent().attr("class")&&($(this).attr("catalog","catalog-"+b+"-"+a),c=c+'\x3cp catalogtagName\x3d"'+b+'" catalog\x3d"catalog-'+b+"-"+a+'" class\x3d"catalog-item" onclick\x3d"'+("go_catalog('catalog-"+b+"-"+a+"','"+b+"')")+'"\x3e'+$(this).html()+"\x3c/p\x3e",a++)});$("#post-catalog-list").html(c);set_catalog_position();$("#post-catalog").css("visibility","visible");$("#post-catalog").css("opacity","1");0==$(".post-content h2").length&&0==$(".post-content h3").length&&$("#post-catalog").css("visibility","hidden")}1==set.has_corepress_video&&new Plyr(".corepress-video",{i18n:{restart:"\u91cd\u64ad",play:"\u64ad\u653e",pause:"\u6682\u505c",speed:"\u901f\u5ea6",normal:"\u6b63\u5e38",quality:"\u8d28\u91cf"}})}1==set.theme.loadbar&&NProgress.done();1==set.is_home&&new Swiper(".swiper-container",{loop:!0,autoplay:!0,delay:3E3,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});loadlazyimg();if(1==set.is_home&&1==set.index.linksicon){for(var d=$(".frinds-links-list").children("li"),e=0;e<d.length;e++){var l=$(d[e]).children("a").attr("href")+"/favicon.ico",k=set.index.chromeiconurl;$(d[e]).children("a").prepend('\x3cimg class\x3d"frinds-links-icon img-lazyload" src\x3d"'+k+'" data-original\x3d"'+l+'" onerror\x3d"javascript:this.src\x3d\''+k+"'\"\x3e ")}setTimeout(function(){endloadhtml()},1E3)}if(1==set.is_single||set.is_page)0<$("#comments").length&&(void 0!=navigator.userAgentData&&void 0!=navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then(function(b){"Windows"===navigator.userAgentData.platform&&13<=parseInt(b.platformVersion.split(".")[0])&&(document.getElementById("osversion").value=13)}),$(".corepress-commentinfo").each(function(){$.ua.set($(this).text());var b=$.ua.browser.name,a=$.ua.browser.major,c=$.ua.cpu.architecture,d=$.ua.os.name,e=$.ua.os.version,g=$.ua.device.vendor,h="";"amd64"==c?h=" 64Bit":"ia32"==c&&(h=" 32Bit");if(void 0!=b)var f=void 0!=a?'\x3cspan class\x3d"corepress-commentinfo-browser"\x3e\x3cimg src\x3d"'+getBrowsericon(b)+'"\x3e'+b+" "+a+"\x3c/span\x3e":'\x3cspan class\x3d"corepress-commentinfo-browser"\x3e\x3cimg src\x3d"'+getBrowsericon(b)+'"\x3e'+b+"\x3c/span\x3e";void 0!=d&&(f=f+'\x3cspan class\x3d"corepress-commentinfo-os"\x3e\x3cimg src\x3d"'+getOsicon(d,e)+'"\x3e'+d+" "+e+h+"\x3c/span\x3e");void 0!=g&&(f=f+'\x3cspan class\x3d"corepress-commentinfo-devicename"\x3e\x3cimg src\x3d"'+getPhoneicon(g)+'"\x3e'+g+"\x3c/span\x3e");$.ua.set($(this).html(f))})),$("table").each(function(){$(this)[0].outerHTML='\x3cdiv class\x3d"cp-table"\x3e'+$(this)[0].outerHTML+"\x3c/div\x3e"}),$("table").each(function(){console.log($(this).find("thead").length);0==$(this).find("thead").length&&($(this).find("tr:first-child td").css("color","var(--Maincolor)"),$(this).find("tr:first-child td").css("border-bottom","2px solid var(--Maincolor)"))});1==set.popwindow&&("1"!=cp_getCookie("cp_popwindow")?load_popwindow():cp_getCookie("cp_popwindow_md5")!=set.popwindowmd5&&load_popwindow())});function endloadhtml(){}$(window).resize(function(){set_catalog_position()});function close_show(a){1==a?($("#post-catalog").removeClass("post-catalog-hide"),$("#post-catalog-bar").css("visibility","hidden")):($("#post-catalog").addClass("post-catalog-hide"),$("#post-catalog-bar").css("visibility","visible"))}function set_catalog_css(){$("p[catalog]").removeClass("catalog-hover")}function set_catalog_position(){if(1==set.is_page||1==set.is_single)if(1==set.theme.sidebar_position){if(0!=$(".post-info").length&&0!=$(".post-content-body").length){var a=$(".post-info").offset().left;$("#post-catalog").css("left",a-200+"px");a=$(".post-content-body").offset().left;$("#post-catalog-bar").css("left",a-$("#post-catalog-bar").innerWidth()+"px")}}else a=$(".post-info").offset().left,a+=$(".post-info")[0].getBoundingClientRect().width,$("#post-catalog").css("left",a+40+"px"),a=$(".post-content-body").offset().left+$(".post-content-body").innerWidth(),$("#post-catalog-bar").css("left",a+"px"),$("#post-catalog-bar").removeClass("post-catalog-bar-left-minborder"),$("#post-catalog-bar").addClass("post-catalog-bar-right-minborder")}function go_catalog(a,c){var d=$(c+"[catalog\x3d"+a+"]").position().top;$("#app").animate({scrollTop:d},500);window.scrollTo(0,d)}function widget_sentence_load(a,c){$.get(set.ajaxurl,{action:"corepress_get_widget_sentence",type:a},function(a){a=JSON.parse(a);200==a.code?$(c).html("\x3cp\x3e"+a.data+"\x3c/p\x3e"):$(c).html("\x3cp\x3e\u53e5\u5b50\u52a0\u8f7d\u5931\u8d25\x3c/p\x3e")})};