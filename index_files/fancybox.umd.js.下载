// @fancyapps/ui/Fancybox v4.0.9
!function(I,K){"object"==typeof exports&&"undefined"!=typeof module?K(exports):"function"==typeof define&&define.amd?define(["exports"],K):K((I="undefined"!=typeof globalThis?globalThis:I||self).window=I.window||{})}(this,function(I){function K(l,r){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(l);r&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(l,b).enumerable}));n.push.apply(n,d)}return n}function z(l){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?K(Object(n),!0).forEach(function(d){var b=n[d];d in l?Object.defineProperty(l,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):l[d]=b}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(n,d))})}return l}function O(l){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},O(l)}function A(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function");}function da(l,r){for(var n=0;n<r.length;n++){var d=r[n];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(l,d.key,d)}}function C(l,r,n){return r&&da(l.prototype,r),n&&da(l,n),l}function V(l,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,writable:!0,configurable:!0}});r&&W(l,r)}function S(l){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},S(l)}function W(l,r){return W=Object.setPrototypeOf||function(l,d){return l.__proto__=d,l},W(l,r)}function P(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function X(l){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n;n=S(l);if(r){var d=S(this).constructor;n=Reflect.construct(n,arguments,d)}else n=n.apply(this,arguments);if(!n||"object"!=typeof n&&"function"!=typeof n){if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");n=P(this)}return n}}function L(l,r){var n;if(!(n=function(d){if(Array.isArray(d))return d}(l)||function(d,b){var c=null==d?null:"undefined"!=typeof Symbol&&d[Symbol.iterator]||d["@@iterator"];if(null!=c){var a,e,f=[],k=!0,h=!1;try{for(c=c.call(d);!(k=(a=c.next()).done)&&(f.push(a.value),!b||f.length!==b);k=!0);}catch(g){h=!0,e=g}finally{try{k||null==c["return"]||c["return"]()}finally{if(h)throw e;}}return f}}(l,r)||Y(l,r)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return n}function u(l){var r;r=Array.isArray(l)?Z(l):void 0;r||(r="undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"]?Array.from(l):void 0);if(!(l=r||Y(l)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return l}function Y(l,r){if(l){if("string"==typeof l)return Z(l,r);var n=Object.prototype.toString.call(l).slice(8,-1);return"Object"===n&&l.constructor&&(n=l.constructor.name),"Map"===n||"Set"===n?Array.from(l):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(l,r):void 0}}function Z(l,r){(null==r||r>l.length)&&(r=l.length);for(var n=0,d=Array(r);n<r;n++)d[n]=l[n];return d}function B(l,r){var n="undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(!n){if(Array.isArray(l)||(n=Y(l))||r&&l&&"number"==typeof l.length){n&&(l=n);var d=0,b=function(){};return{s:b,n:function(){return d>=l.length?{done:!0}:{done:!1,value:l[d++]}},e:function(a){throw a;},f:b}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var c,a=!0,e=!1;return{s:function(){n=n.call(l)},n:function(){var b=n.next();return a=b.done,b},e:function(a){e=!0;c=a},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(e)throw c;}}}}function ea(l,r){return r?Math.sqrt(Math.pow(r.clientX-l.clientX,2)+Math.pow(r.clientY-l.clientY,2)):0}function aa(l,r){return r?{clientX:(l.clientX+r.clientX)/2,clientY:(l.clientY+r.clientY)/2}:l}var M=function(l){return"object"===O(l)&&null!==l&&l.constructor===Object&&"[object Object]"===Object.prototype.toString.call(l)},D=function r(){for(var n=!1,d=arguments.length,b=Array(d),c=0;c<d;c++)b[c]=arguments[c];"boolean"==typeof b[0]&&(n=b.shift());d=b[0];if(!d||"object"!==O(d))throw Error("extendee must be an object");for(var b=b.slice(1),c=b.length,a=0;a<c;a++){var e=b[a],f;for(f in e)if(e.hasOwnProperty(f)){var k=e[f];if(n&&(Array.isArray(k)||M(k))){var h=Array.isArray(k)?[]:{};d[f]=r(!0,d.hasOwnProperty(f)?d[f]:h,k)}else d[f]=k}}return d},v=function(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1E4;return r=parseFloat(r)||0,Math.round((r+Number.EPSILON)*n)/n},na="undefined"!=typeof window&&window.ResizeObserver||function(){function r(n){A(this,r);this.observables=[];this.boundCheck=this.check.bind(this);this.boundCheck();this.callback=n}return C(r,[{key:"observe",value:function(n){this.observables.some(function(d){return d.el===n})||this.observables.push({el:n,size:{height:n.clientHeight,width:n.clientWidth}})}},{key:"unobserve",value:function(n){this.observables=this.observables.filter(function(d){return d.el!==n})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var n=this.observables.filter(function(d){var b=d.el.clientHeight,c=d.el.clientWidth;if(d.size.height!==b||d.size.width!==c)return d.size.height=b,d.size.width=c,!0}).map(function(d){return d.el});0<n.length&&this.callback(n);window.requestAnimationFrame(this.boundCheck)}}]),r}(),ba=function n(d){A(this,n);this.id=-1;this.id=d.pointerId||d.identifier||-1;this.pageX=d.pageX;this.pageY=d.pageY;this.clientX=d.clientX;this.clientY=d.clientY;this.nativePointer=d},oa=function(){function n(d){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=c.start,a=void 0===a?function(){return!0}:a,e=c.move,e=void 0===e?function(){}:e,c=c.end,c=void 0===c?function(){}:c;A(this,n);this.element=d;this.startPointers=[];this.currentPointers=[];this.startCallback=a;this.moveCallback=e;this.endCallback=c;this.onStart=function(a){if(!a.button||0===a.button){var e=new ba(a);if(!1===b.startCallback(e,a))return!1;a.preventDefault();var f=window.getSelection?window.getSelection():document.selection;f&&f.rangeCount&&f.getRangeAt(0).getClientRects().length&&(f.removeAllRanges?f.removeAllRanges():f.empty&&f.empty());b.currentPointers.push(e);b.startPointers.push(e);(a.target&&"setPointerCapture"in a.target?a.target:b.element).setPointerCapture(a.pointerId);b.element.addEventListener("pointermove",b.onMove);b.element.addEventListener("pointerup",b.onEnd);b.element.addEventListener("pointercancel",b.onEnd)}};this.onMove=function(a){for(var e=b.currentPointers.slice(),f=[],c=function(){var a=p[d],e=b.currentPointers.findIndex(function(b){return b.id===a.id});if(0>e)return"continue";f.push(a);b.currentPointers[e]=a},d=0,p=[new ba(a)];d<p.length;d++)c();f.length&&b.moveCallback(e,b.currentPointers,a)};this.onEnd=function(a){var e=new ba(a),f=b.currentPointers.findIndex(function(a){return a.id===e.id});if(-1===f)return!1;b.currentPointers.splice(f,1);b.startPointers.splice(f,1);b.endCallback(e,a);b.currentPointers.length||(b.element.removeEventListener("pointermove",b.onMove),b.element.removeEventListener("pointerup",b.onEnd),b.element.removeEventListener("pointercancel",b.onEnd))};this.element.addEventListener("pointerdown",this.onStart)}return C(n,[{key:"stop",value:function(){this.element.removeEventListener("pointerdown",this.onStart);this.element.removeEventListener("pointermove",this.onMove);this.element.removeEventListener("pointerup",this.onEnd);this.element.removeEventListener("pointercancel",this.onEnd)}}]),n}(),fa=function d(b){var c;if(c=!!(b&&"object"===O(b)&&b instanceof Element&&b!==document.body)){c=getComputedStyle(b)["overflow-y"];var a=getComputedStyle(b)["overflow-x"],a=("scroll"===a||"auto"===a)&&1<Math.abs(b.scrollWidth-b.clientWidth);c=("scroll"===c||"auto"===c)&&1<Math.abs(b.scrollHeight-b.clientHeight)||a?b:d(b.parentNode)}return c},pa=function(d,b){return d.split(".").reduce(function(b,a){return b&&b[a]},b)},E=function(){function d(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};A(this,d);this.options=D(!0,{},b);this.plugins=[];this.events={};for(var b=0,c=["on","once"];b<c.length;b++)for(var a=c[b],e=0,f=Object.entries(this.options[a]||{});e<f.length;e++)this[a].apply(this,u(f[e]))}return C(d,[{key:"option",value:function(b,c){b=String(b);var a=pa(b,this.options);if("function"==typeof a){for(var e,f=arguments.length,k=Array(2<f?f-2:0),h=2;h<f;h++)k[h-2]=arguments[h];a=(e=a).call.apply(e,[this,this].concat(k))}return void 0===a?c:a}},{key:"localize",value:function(b){var c=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return String(b).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(b,f,k){if(!(b=k?c.option("".concat(f[0]+f.toLowerCase().substring(1),".l10n.").concat(k)):c.option("l10n.".concat(f))))return f;for(f=0;f<a.length;f++)b=b.split(a[f][0]).join(a[f][1]);return b})}},{key:"on",value:function(b,c){var a=this;if(M(b)){for(var e=0,f=Object.entries(b);e<f.length;e++)this.on.apply(this,u(f[e]));return this}return String(b).split(" ").forEach(function(b){b=a.events[b]=a.events[b]||[];-1==b.indexOf(c)&&b.push(c)}),this}},{key:"once",value:function(b,c){var a=this;if(M(b)){for(var e=0,f=Object.entries(b);e<f.length;e++)this.once.apply(this,u(f[e]));return this}return String(b).split(" ").forEach(function(b){var e=function m(){a.off(b,m);for(var e=arguments.length,f=Array(e),k=0;k<e;k++)f[k]=arguments[k];c.call.apply(c,[a,a].concat(f))};e._=c;a.on(b,e)}),this}},{key:"off",value:function(b,c){var a=this;if(!M(b))return b.split(" ").forEach(function(b){b=a.events[b];if(!b||!b.length)return a;for(var e=-1,f=0,k=b.length;f<k;f++){var d=b[f];if(d&&(d===c||d._===c)){e=f;break}}-1!=e&&b.splice(e,1)}),this;for(var e=0,f=Object.entries(b);e<f.length;e++)this.off.apply(this,u(f[e]))}},{key:"trigger",value:function(b){for(var c=arguments.length,a=Array(1<c?c-1:0),e=1;e<c;e++)a[e-1]=arguments[e];var f,c=B(u(this.events[b]||[]).slice());try{for(c.s();!(f=c.n()).done;){var k=f.value;if(k&&!1===k.call.apply(k,[this,this].concat(a)))return!1}}catch(m){c.e(m)}finally{c.f()}var h;f=B(u(this.events["*"]||[]).slice());try{for(f.s();!(h=f.n()).done;){var g=h.value;if(g&&!1===g.call.apply(g,[this,b,this].concat(a)))return!1}}catch(m){f.e(m)}finally{f.f()}return!0}},{key:"attachPlugins",value:function(b){var c={},a=0;for(b=Object.entries(b||{});a<b.length;a++){var e=L(b[a],2),f=e[0],e=e[1];!1===this.options[f]||this.plugins[f]||(this.options[f]=D({},e.defaults||{},this.options[f]),c[f]=new e(this))}a=0;for(b=Object.entries(c);a<b.length;a++)f=L(b[a],2),f[0],f[1].attach(this);return this.plugins=Object.assign({},this.plugins,c),this}},{key:"detachPlugins",value:function(){for(var b in this.plugins){var c=void 0;(c=this.plugins[b])&&"function"==typeof c.detach&&c.detach(this)}return this.plugins={},this}}]),d}(),qa={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},Q=function(d){function b(a){var e;e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};A(this,b);(e=c.call(this,D(!0,{},qa,e))).state="init";e.$container=a;for(var f=0,k=["onLoad","onWheel","onClick"];f<k.length;f++){var h=k[f];e[h]=e[h].bind(P(e))}return e.initLayout(),e.resetValues(),e.attachPlugins(b.Plugins),e.trigger("init"),e.updateMetrics(),e.attachEvents(),e.trigger("ready"),!1===e.option("centerOnStart")?e.state="ready":e.panTo({friction:0}),e}V(b,d);var c=X(b);return C(b,[{key:"initLayout",value:function(){var a=this.$container;if(!(a instanceof HTMLElement))throw Error("Panzoom: Container not found");var b=this.option("content")||a.querySelector(".panzoom__content");if(!b)throw Error("Panzoom: Content not found");this.$content=b;var f,c=this.option("viewport")||a.querySelector(".panzoom__viewport");c||!1===this.option("wrapInner")||((c=document.createElement("div")).classList.add("panzoom__viewport"),(f=c).append.apply(f,u(a.childNodes)),a.appendChild(c));this.$viewport=c||b.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24);this.container={width:0,height:0};this.viewport={width:0,height:0};this.content={origHeight:0,origWidth:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")};this.transform={x:0,y:0,scale:1};this.resetDragPosition()}},{key:"onLoad",value:function(a){this.updateMetrics();this.panTo({scale:this.option("baseScale"),friction:0});this.trigger("load",a)}},{key:"onClick",value:function(a){if(!a.defaultPrevented)if(this.option("textSelection")&&window.getSelection().toString().length)a.stopPropagation();else{var b=this.$content.getClientRects()[0];if("ready"!==this.state&&(this.dragPosition.midPoint||1<Math.abs(b.top-this.dragStart.rect.top)||1<Math.abs(b.left-this.dragStart.rect.left)))return a.preventDefault(),void a.stopPropagation();!1!==this.trigger("click",a)&&this.option("zoom")&&"toggleZoom"===this.option("click")&&(a.preventDefault(),a.stopPropagation(),this.zoomWithClick(a))}}},{key:"onWheel",value:function(a){!1!==this.trigger("wheel",a)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(a)}},{key:"zoomWithWheel",value:function(a){void 0===this.changedDelta&&(this.changedDelta=0);var b=Math.max(-1,Math.min(1,-a.deltaY||-a.deltaX||a.wheelDelta||-a.detail)),f=this.content.scale,c=f*(100+b*this.option("wheelFactor"))/100;(0>b&&.01>Math.abs(f-this.option("minScale"))||0<b&&.01>Math.abs(f-this.option("maxScale"))?(this.changedDelta+=Math.abs(b),c=f):(this.changedDelta=0,c=Math.max(Math.min(c,this.option("maxScale")),this.option("minScale"))),this.changedDelta>this.option("wheelLimit")||(a.preventDefault(),c===f))||(b=this.$content.getBoundingClientRect(),this.zoomTo(c,{x:a.clientX-b.left,y:a.clientY-b.top}))}},{key:"zoomWithClick",value:function(a){var b=this.$content.getClientRects()[0];this.toggleZoom({x:a.clientX-b.left,y:a.clientY-b.top})}},{key:"attachEvents",value:function(){var a=this;this.$content.addEventListener("load",this.onLoad);this.$container.addEventListener("wheel",this.onWheel,{passive:!1});this.$container.addEventListener("click",this.onClick,{passive:!1});this.initObserver();var b=new oa(this.$container,{start:function(e,c){if(!a.option("touch"))return!1;if(!(0>a.velocity.scale)){if(!b.currentPointers.length){if(-1!=="BUTTON TEXTAREA OPTION INPUT SELECT VIDEO".split(" ").indexOf(c.target.nodeName))return!1;var f;if(f=a.option("textSelection"))a:{f=c.clientX;for(var k=c.clientY,d=c.target.childNodes,p=document.createRange(),q=0;q<d.length;q++){var t=d[q];if(t.nodeType===Node.TEXT_NODE){p.selectNodeContents(t);var x=p.getBoundingClientRect();if(f>=x.left&&k>=x.top&&f<=x.right&&k<=x.bottom){f=t;break a}}}f=!1}if(f||fa(c.target))return!1}return!1!==a.trigger("touchStart",c)&&(a.state="pointerdown",a.resetDragPosition(),a.dragPosition.midPoint=null,a.dragPosition.time=Date.now(),!0)}},move:function(e,c,h){if("pointerdown"===a.state)if(0!=a.trigger("touchMove",h)){if(!(2>c.length&&1==a.option("panOnlyZoomed")&&a.content.width<=a.viewport.width&&a.content.height<=a.viewport.height&&a.transform.scale<=a.option("baseScale")||1<c.length&&(!a.option("zoom")||!1===a.option("pinchToZoom")))){h.preventDefault();h.stopPropagation();var f=aa(e[0],e[1]);h=aa(c[0],c[1]);var k=h.clientX-f.clientX,f=h.clientY-f.clientY;e=ea(e[0],e[1]);var d=ea(c[0],c[1]);a.dragOffset.x+=k;a.dragOffset.y+=f;a.dragOffset.scale*=e?d/e:1;a.dragOffset.time=Date.now()-a.dragPosition.time;if((k=1===a.dragStart.scale&&a.option("lockAxis"))&&!a.lockAxis){if(6>Math.abs(a.dragOffset.x)&&6>Math.abs(a.dragOffset.y))return;"xy"===k?(k=Math.abs(180*Math.atan2(a.dragOffset.y,a.dragOffset.x)/Math.PI),a.lockAxis=45<k&&135>k?"y":"x"):a.lockAxis=k}(a.lockAxis&&(a.dragOffset["x"===a.lockAxis?"y":"x"]=0),a.$container.classList.add(a.option("draggingClass")),a.transform.scale===a.option("baseScale")&&"y"===a.lockAxis||(a.dragPosition.x=a.dragStart.x+a.dragOffset.x),a.transform.scale===a.option("baseScale")&&"x"===a.lockAxis||(a.dragPosition.y=a.dragStart.y+a.dragOffset.y),a.dragPosition.scale=a.dragStart.scale*a.dragOffset.scale,1<c.length)?(c=aa(b.startPointers[0],b.startPointers[1]),c=a.getZoomDelta(a.content.scale*a.dragOffset.scale,c.clientX-a.dragStart.rect.x,c.clientY-a.dragStart.rect.y),k=c.deltaY,a.dragPosition.x-=c.deltaX,a.dragPosition.y-=k,a.dragPosition.midPoint=h):a.setDragResistance();a.transform={x:a.dragPosition.x,y:a.dragPosition.y,scale:a.dragPosition.scale};a.startAnimation()}}else h.preventDefault()},end:function(e,c){if("pointerdown"===a.state)if(a._dragOffset=z({},a.dragOffset),b.currentPointers.length)a.resetDragPosition();else if(a.state="decel",a.friction=a.option("decelFriction"),a.recalculateTransform(),a.$container.classList.remove(a.option("draggingClass")),!1!==a.trigger("touchEnd",c)&&"decel"===a.state){var f=a.option("minScale");if(a.transform.scale<f)a.zoomTo(f,{friction:.64});else if(f=a.option("maxScale"),.01<a.transform.scale-f){var k=a.dragPosition.midPoint||e,d=a.$content.getClientRects()[0];a.zoomTo(f,{friction:.64,x:k.clientX-d.left,y:k.clientY-d.top})}}}});this.pointerTracker=b}},{key:"initObserver",value:function(){var a=this;this.resizeObserver||(this.resizeObserver=new na(function(){a.updateTimer||(a.updateTimer=setTimeout(function(){var b=a.$container.getBoundingClientRect();b.width&&b.height?((1<Math.abs(b.width-a.container.width)||1<Math.abs(b.height-a.container.height))&&(a.isAnimating()&&a.endAnimation(!0),a.updateMetrics(),a.panTo({x:a.content.x,y:a.content.y,scale:a.option("baseScale"),friction:0})),a.updateTimer=null):a.updateTimer=null},a.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null;this.friction=this.option("friction");this.velocity={x:0,y:0,scale:0};var a=this.content,b=a.x,f=a.y,a=a.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:b,y:f,scale:a};this.dragPosition=z(z({},this.dragPosition),{},{x:b,y:f,scale:a});this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(a){!0!==a&&this.trigger("beforeUpdate");var b,f=this.$container,c=this.$content,h=this.$viewport,d=this.$content instanceof HTMLImageElement,m=this.option("zoom"),p=this.option("resizeParent",m),q=(b=this.$content,Math.max(parseFloat(b.naturalWidth||0),parseFloat(b.width&&b.width.baseVal&&b.width.baseVal.value||0),parseFloat(b.offsetWidth||0),parseFloat(b.scrollWidth||0)));b=function(a){return Math.max(parseFloat(a.naturalHeight||0),parseFloat(a.height&&a.height.baseVal&&a.height.baseVal.value||0),parseFloat(a.offsetHeight||0),parseFloat(a.scrollHeight||0))}(this.$content);Object.assign(c.style,{width:"",height:"",maxWidth:"",maxHeight:""});p&&Object.assign(h.style,{width:"",height:""});var t=this.option("ratio"),x=q=v(q*t),t=b=v(b*t),N=c.getBoundingClientRect(),y=h.getBoundingClientRect(),f=h==f?y:f.getBoundingClientRect(),w=Math.max(h.offsetWidth,v(y.width)),y=Math.max(h.offsetHeight,v(y.height)),T=window.getComputedStyle(h);if(w-=parseFloat(T.paddingLeft)+parseFloat(T.paddingRight),y-=parseFloat(T.paddingTop)+parseFloat(T.paddingBottom),this.viewport.width=w,this.viewport.height=y,m){if(.1<Math.abs(q-N.width)||.1<Math.abs(b-N.height))t=function(a,b,e,f){e=Math.min(e/a||0,f/b);return{width:a*e||0,height:b*e||0}}(q,b,Math.min(q,N.width),Math.min(b,N.height)),x=v(t.width),t=v(t.height);Object.assign(c.style,{width:"".concat(x,"px"),height:"".concat(t,"px"),transform:""})}if(p&&(Object.assign(h.style,{width:"".concat(x,"px"),height:"".concat(t,"px")}),this.viewport=z(z({},this.viewport),{},{width:x,height:t})),d&&m&&"function"!=typeof this.options.maxScale){var u=this.option("maxScale");this.options.maxScale=function(){return 0<this.content.origWidth&&0<this.content.fitWidth?this.content.origWidth/this.content.fitWidth:u}}this.content=z(z({},this.content),{},{origWidth:q,origHeight:b,fitWidth:x,fitHeight:t,width:x,height:t,scale:1,isZoomable:m});this.container={width:f.width,height:f.height};!0!==a&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(a){this.zoomTo(this.content.scale+(a||this.option("step")))}},{key:"zoomOut",value:function(a){this.zoomTo(this.content.scale-(a||this.option("step")))}},{key:"toggleZoom",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.option("maxScale"),f=this.option("baseScale");this.zoomTo(this.content.scale>f+.5*(b-f)?f:b,a)}},{key:"zoomTo",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.x,f=void 0===f?null:f,b=b.y,b=void 0===b?null:b,a=Math.max(Math.min(a,this.option("maxScale")),this.option("minScale")),c=v(this.content.scale/(this.content.width/this.content.fitWidth),1E7);null===f&&(f=this.content.width*c*.5);null===b&&(b=this.content.height*c*.5);f=this.getZoomDelta(a,f,b);b=f.deltaY;f=this.content.x-f.deltaX;b=this.content.y-b;this.panTo({x:f,y:b,scale:a,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=this.content.fitWidth*this.content.scale,h=this.content.fitHeight*this.content.scale;return{deltaX:(this.content.fitWidth*a-c)*(0<b&&c?b/c:0),deltaY:(this.content.fitHeight*a-h)*(0<f&&h?f/h:0)}}},{key:"panTo",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.x,b=void 0===b?this.content.x:b,f=a.y,f=void 0===f?this.content.y:f,c=a.scale,h=a.friction,h=void 0===h?this.option("friction"):h,a=a.ignoreBounds;if(c=c||this.content.scale||1,void 0===a||!a){var d=this.getBounds(c),a=d.boundX,d=d.boundY;a&&(b=Math.max(Math.min(b,a.to),a.from));d&&(f=Math.max(Math.min(f,d.to),d.from))}this.friction=h;this.transform=z(z({},this.transform),{},{x:b,y:f,scale:c});h?(this.state="panning",this.velocity={x:(1/this.friction-1)*(b-this.content.x),y:(1/this.friction-1)*(f-this.content.y),scale:(1/this.friction-1)*(c-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var a=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation");this.rAF=requestAnimationFrame(function(){return a.animate()})}},{key:"animate",value:function(){var a=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return void this.endAnimation();this.rAF=requestAnimationFrame(function(){return a.animate()})}},{key:"getBounds",value:function(a){var b=this.boundX,f=this.boundY;if(void 0!==b&&void 0!==f)return{boundX:b,boundY:f};b={from:0,to:0};f={from:0,to:0};a=a||this.transform.scale;var c=this.content.fitWidth,d=this.content.fitHeight,g=c*a;a*=d;var m=this.viewport.width,p=this.viewport.height;c<=m?(m=.5*(m-g),c=.5*(g-c),b.from=v(m-c),b.to=v(m+c)):b.from=v(m-g);d<=p?(g=.5*(p-a),d=.5*(a-d),f.from=v(g-d),f.to=v(g+d)):f.from=v(p-g);return{boundX:b,boundY:f}}},{key:"setEdgeForce",value:function(){if("decel"===this.state){var a,b,f,c,d=this.option("bounceForce"),g=this.getBounds(Math.max(this.transform.scale,this.content.scale)),m=g.boundX,g=g.boundY;if(m&&(a=this.content.x<m.from,b=this.content.x>m.to),g&&(f=this.content.y<g.from,c=this.content.y>g.to),a||b)a=((a?m.from:m.to)-this.content.x)*d,b=this.content.x+(this.velocity.x+a)/this.friction,b>=m.from&&b<=m.to&&(a+=this.velocity.x),this.velocity.x=a,this.recalculateTransform();if(f||c)f=((f?g.from:g.to)-this.content.y)*d,c=this.content.y+(f+this.velocity.y)/this.friction,c>=g.from&&c<=g.to&&(f+=this.velocity.y),this.velocity.y=f,this.recalculateTransform()}}},{key:"setDragResistance",value:function(){if("pointerdown"===this.state){var a,b,f,c,d=this.getBounds(this.dragPosition.scale),g=d.boundX,d=d.boundY;(g&&(a=this.dragPosition.x<g.from,b=this.dragPosition.x>g.to),d&&(f=this.dragPosition.y<d.from,c=this.dragPosition.y>d.to),!a&&!b||a&&b)||(a=a?g.from:g.to,this.dragPosition.x=a-.3*(a-this.dragPosition.x));!f&&!c||f&&c||(f=f?d.from:d.to,this.dragPosition.y=f-.3*(f-this.dragPosition.y))}}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1);this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1);this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(.05<Math.abs(this.velocity.x)||.05<Math.abs(this.velocity.y)||.05<Math.abs(this.velocity.scale)))}},{key:"setTransform",value:function(a){var b,f,c,d,g;(a?(b=v(this.transform.x),f=v(this.transform.y),c=this.transform.scale,this.content=z(z({},this.content),{},{x:b,y:f,scale:c})):(b=v(this.content.x),f=v(this.content.y),c=this.content.scale/(this.content.width/this.content.fitWidth),this.content=z(z({},this.content),{},{x:b,y:f})),this.trigger("beforeTransform"),b=v(this.content.x),f=v(this.content.y),a&&this.option("zoom"))?(d=v(this.content.fitWidth*c),g=v(this.content.fitHeight*c),this.content.width=d,this.content.height=g,this.transform=z(z({},this.transform),{},{width:d,height:g,scale:c}),Object.assign(this.$content.style,{width:"".concat(d,"px"),height:"".concat(g,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(b,"px, ").concat(f,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(b,"px, ").concat(f,"px, 0) scale(").concat(c,")");this.trigger("afterTransform")}},{key:"endAnimation",value:function(a){cancelAnimationFrame(this.rAF);this.rAF=null;this.velocity={x:0,y:0,scale:0};this.setTransform(!0);this.state="ready";this.handleCursor();!0!==a&&this.trigger("endAnimation")}},{key:"handleCursor",value:function(){var a=this.option("draggableClass");a&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(a):this.$container.classList.add(a))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad);this.$container.removeEventListener("wheel",this.onWheel,{passive:!1});this.$container.removeEventListener("click",this.onClick,{passive:!1});this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null);this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),b}(E);Q.version="4.0.9";Q.Plugins={};var ga=function(d,b){var c=0;return function(){var a=(new Date).getTime();if(!(a-c<b))return c=a,d.apply(void 0,arguments)}},F=function(){function d(b){A(this,d);this.$next=this.$prev=this.$container=null;this.carousel=b;this.onRefresh=this.onRefresh.bind(this)}return C(d,[{key:"option",value:function(b){return this.carousel.option("Navigation.".concat(b))}},{key:"createButton",value:function(b){var c,a=this,e=document.createElement("button");e.setAttribute("title",this.carousel.localize("{{".concat(b.toUpperCase(),"}}")));var f=this.option("classNames.button")+" "+this.option("classNames.".concat(b));return(c=e.classList).add.apply(c,u(f.split(" "))),e.setAttribute("tabindex","0"),e.innerHTML=this.carousel.localize(this.option("".concat(b,"Tpl"))),e.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();a.carousel["slide".concat("next"===b?"Next":"Prev")]()}),e}},{key:"build",value:function(){this.$container||(this.$container=document.createElement("div"),this.$container.classList.add(this.option("classNames.main")),this.carousel.$container.appendChild(this.$container));this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next));this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var b=this.carousel.pages.length;1>=b||1<b&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(0>=this.carousel.page&&this.$prev.setAttribute("disabled",""),this.carousel.page>=b-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove();this.$prev=null;this.$next&&this.$next.remove();this.$next=null;this.$container&&this.$container.remove();this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh);this.cleanup()}}]),d}();F.defaults={prevTpl:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M15 3l-9 9 9 9"/\x3e\x3c/svg\x3e',nextTpl:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M9 3l9 9-9 9"/\x3e\x3c/svg\x3e',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};var J=function(){function d(b){A(this,d);this.carousel=b;this.$list=null;this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}return C(d,[{key:"buildList",value:function(){var b=this;if(!(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))){var c=document.createElement("ol");return c.classList.add("carousel__dots"),c.addEventListener("click",function(a){if("page"in a.target.dataset){a.preventDefault();a.stopPropagation();a=parseInt(a.target.dataset.page,10);var e=b.carousel;a!==e.page&&(3>e.pages.length&&e.option("infinite")?e[0==a?"slidePrev":"slideNext"]():e.slideTo(a))}}),this.$list=c,this.carousel.$container.appendChild(c),this.carousel.$container.classList.add("has-dots"),c}}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null);this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var b=this,c=this.$list,c=!!c,a=this.carousel.pages.length;if(2>a)c&&this.removeList();else if(c||(c=this.buildList()),c=this.$list.children.length,c>a)for(;a<c;a++)this.$list.removeChild(this.$list.lastChild);else{for(var e=function(a){var e=document.createElement("li");e.classList.add("carousel__dot");e.dataset.page=a;e.setAttribute("role","button");e.setAttribute("tabindex","0");e.setAttribute("title",b.carousel.localize("{{GOTO}}",[["%d",a+1]]));e.addEventListener("keydown",function(a){var b;a=a.code;"Enter"===a||"NumpadEnter"===a?b=e:"ArrowRight"===a?b=e.nextSibling:"ArrowLeft"===a&&(b=e.previousSibling);b&&b.click()});b.$list.appendChild(e)};c<a;c++)e(c);this.setActiveDot()}}},{key:"setActiveDot",value:function(){if(this.$list){this.$list.childNodes.forEach(function(b){b.classList.remove("is-selected")});var b=this.$list.childNodes[this.carousel.page];b&&b.classList.add("is-selected")}}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList();this.carousel.off(this.events);this.carousel=null}}]),d}(),G=function(){function d(b){A(this,d);this.carousel=b;this.selectedIndex=null;this.friction=0;this.onNavReady=this.onNavReady.bind(this);this.onNavClick=this.onNavClick.bind(this);this.onNavCreateSlide=this.onNavCreateSlide.bind(this);this.onTargetChange=this.onTargetChange.bind(this)}return C(d,[{key:"addAsTargetFor",value:function(b){this.target=this.carousel;this.nav=b;this.attachEvents()}},{key:"addAsNavFor",value:function(b){this.target=b;this.nav=this.carousel;this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage;this.nav.on("ready",this.onNavReady);this.nav.on("createSlide",this.onNavCreateSlide);this.nav.on("Panzoom.click",this.onNavClick);this.target.on("change",this.onTargetChange);this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(b,c,a){if(b=a.target.closest(".carousel__slide"))a.stopPropagation(),a=parseInt(b.dataset.index,10),b=this.target.findPageForSlide(a),this.target.page!==b&&this.target.slideTo(b,{friction:this.friction}),this.markSelectedSlide(a)}},{key:"onNavCreateSlide",value:function(b,c){c.index===this.selectedIndex&&this.markSelectedSlide(c.index)}},{key:"onTargetChange",value:function(){var b=this.target.pages[this.target.page].indexes[0],c=this.nav.findPageForSlide(b);this.nav.slideTo(c);this.markSelectedSlide(b)}},{key:"markSelectedSlide",value:function(b){this.selectedIndex=b;u(this.nav.slides).filter(function(b){return b.$el&&b.$el.classList.remove("is-nav-selected")});(b=this.nav.slides[b])&&b.$el&&b.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(b){b=b.options.Sync;(b.target||b.nav)&&(b.target?this.addAsNavFor(b.target):b.nav&&this.addAsTargetFor(b.nav),this.friction=b.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide));this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),d}();G.defaults={friction:.92};var F={Navigation:F,Dots:J,Sync:G},ra={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},R=function(d){function b(a){var e,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(A(this,b),f=D(!0,{},ra,f),(e=c.call(this,f)).state="init",e.$container=a,!(e.$container instanceof HTMLElement))throw Error("No root element provided");return e.slideNext=ga(e.slideNext.bind(P(e)),250),e.slidePrev=ga(e.slidePrev.bind(P(e)),250),e.init(),e}V(b,d);var c=X(b);return C(b,[{key:"init",value:function(){this.pages=[];this.prevPage=this.prevPageIndex=this.page=this.pageIndex=null;this.attachPlugins(b.Plugins);this.trigger("init");this.initLayout();this.initSlides();this.updateMetrics();this.$track&&this.pages.length&&(this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)"));this.manageSlideVisiblity();this.initPanzoom();this.state="ready";this.trigger("ready")}},{key:"initLayout",value:function(){var a,b,f=this.option("prefix"),c=this.option("classNames");(this.$viewport=this.option("viewport")||this.$container.querySelector(".".concat(f).concat(c.viewport)),this.$viewport)||(this.$viewport=document.createElement("div"),this.$viewport.classList.add(f+c.viewport),(a=this.$viewport).append.apply(a,u(this.$container.childNodes)),this.$container.appendChild(this.$viewport));(this.$track=this.option("track")||this.$container.querySelector(".".concat(f).concat(c.track)),this.$track)||(this.$track=document.createElement("div"),this.$track.classList.add(f+c.track),(b=this.$track).append.apply(b,u(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var a=this;this.slides=[];this.$viewport.querySelectorAll(".".concat(this.option("prefix")).concat(this.option("classNames.slide"))).forEach(function(b){b={$el:b,isDom:!0};a.slides.push(b);a.trigger("createSlide",b,a.slides.length)});Array.isArray(this.options.slides)&&(this.slides=D(!0,u(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var a,b=this,c=0,k=[];this.slides.forEach(function(e,f){var d=e.$el,d=e.isDom||!a?b.getSlideMetrics(d):a;e.index=f;e.width=d;e.left=c;a=d;c+=d;k.push(f)});var d=Math.max(this.$track.offsetWidth,v(this.$track.getBoundingClientRect().width)),g=getComputedStyle(this.$track),d=d-(parseFloat(g.paddingLeft)+parseFloat(g.paddingRight));this.contentWidth=c;this.viewportWidth=d;var g=[],m=this.option("slidesPerPage");if(Number.isInteger(m)&&c>d)for(var p=0;p<this.slides.length;p+=m)g.push({indexes:k.slice(p,p+m),slides:this.slides.slice(p,p+m)});else for(var q=p=m=0;q<this.slides.length;q+=1){var t=this.slides[q];(!g.length||p+t.width>d)&&(g.push({indexes:[],slides:[]}),m=g.length-1,p=0);p+=t.width;g[m].indexes.push(q);g[m].slides.push(t)}var x=this.option("center"),N=this.option("fill");g.forEach(function(a,e){a.index=e;a.width=a.slides.reduce(function(a,b){return a+b.width},0);a.left=a.slides[0].left;x&&(a.left+=-.5*(d-a.width));N&&!b.option("infiniteX",b.option("infinite"))&&c>d&&(a.left=Math.max(a.left,0),a.left=Math.min(a.left,c-d))});var y,w=[];g.forEach(function(a){a=z({},a);y&&a.left===y.left?(y.width+=a.width,y.slides=[].concat(u(y.slides),u(a.slides)),y.indexes=[].concat(u(y.indexes),u(a.indexes))):(a.index=w.length,y=a,w.push(a))});this.pages=w;g=this.page;null===g&&(g=this.option("initialSlide"),g=null!==g?this.findPageForSlide(g):this.option("initialPage",0),w[g]||(g=w.length&&g>w.length?w[w.length-1].index:0),this.pageIndex=this.page=g);this.updatePanzoom();this.trigger("refresh")}},{key:"getSlideMetrics",value:function(a){if(!a){var b,c=this.slides[0];((a=document.createElement("div")).dataset.isTestEl=1,a.style.visibility="hidden",a.classList.add(this.option("prefix")+this.option("classNames.slide")),c.customClass)&&(b=a.classList).add.apply(b,u(c.customClass.split(" ")));this.$track.prepend(a)}b=Math.max(a.offsetWidth,v(a.getBoundingClientRect().width));c=a.currentStyle||window.getComputedStyle(a);return b=b+(parseFloat(c.marginLeft)||0)+(parseFloat(c.marginRight)||0),a.dataset.isTestEl&&a.remove(),b}},{key:"findPageForSlide",value:function(a){var b=this.pages.find(function(b){return-1<b.indexes.indexOf(a)});return b?b.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.x,c=void 0===c?-1*this.setPage(a,!0):c,k=b.y,k=void 0===k?0:k,b=b.friction,b=void 0===b?this.option("friction"):b;this.Panzoom.content.x===c&&!this.Panzoom.velocity.x&&b||(this.Panzoom.panTo({x:c,y:k,friction:b,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var a=this;this.Panzoom&&this.Panzoom.destroy();var b=D(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:function(){return a.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new Q(this.$container,b);this.Panzoom.on({"*":function(b){for(var e=arguments.length,c=Array(1<e?e-1:0),f=1;f<e;f++)c[f-1]=arguments[f];return a.trigger.apply(a,["Panzoom.".concat(b)].concat(c))},afterUpdate:function(){a.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){a.trigger("settle")}});this.updateMetrics();this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=z(z({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),1<this.pages.length&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var a=this,b=this.contentWidth,c=this.viewportWidth,d=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0,h=this.option("preload"),g=this.option("infiniteX",this.option("infinite")),m=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),p=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(function(e){var f,k,q=0;f=d-m;k=d+c+p;f-=h*(c+m+p);k+=h*(c+m+p);var t=e.left+e.width>f&&e.left<k;f=d+b-m;k=d+b+c+p;f-=h*(c+m+p);var x=g&&e.left+e.width>f&&e.left<k;f=d-b-m;k=d-b+c+p;f-=h*(c+m+p);f=g&&e.left+e.width>f&&e.left<k;x||t||f?(a.createSlideEl(e),t&&(q=0),x&&(q=-1),f&&(q=1),e.left+e.width>d&&e.left<=d+c+p&&(q=0)):a.removeSlideEl(e);e.hasDiff=q});var q=0,t=0;this.slides.forEach(function(a,e){var c=0;a.$el?(e!==q||a.hasDiff?c=t+a.hasDiff*b:t=0,a.$el.style.left=.1<Math.abs(c)?"".concat(t+a.hasDiff*b,"px"):"",q++):t+=a.width});this.markSelectedSlides()}},{key:"createSlideEl",value:function(a){if(a){if(!a.$el){var b,c=document.createElement("div");(c.dataset.index=a.index,c.classList.add(this.option("prefix")+this.option("classNames.slide")),a.customClass)&&(b=c.classList).add.apply(b,u(a.customClass.split(" ")));a.html&&(c.innerHTML=a.html);var d=[];this.slides.forEach(function(a,b){a.$el&&d.push(b)});var h=a.index;b=null;d.length&&(b=d.reduce(function(a,b){return Math.abs(b-h)<Math.abs(a-h)?b:a}),b=this.slides[b]);return this.$track.insertBefore(c,b&&b.$el?b.index<a.index?b.$el.nextSibling:b.$el:null),a.$el=c,this.trigger("createSlide",a,h),a}parseInt(a.$el.dataset.index,10)!==a.index&&(a.$el.dataset.index=a.index,a.$el.querySelectorAll("[data-lazy-src]").forEach(function(a){var b=a.dataset.lazySrc;a instanceof HTMLImageElement?a.src=b:a.style.backgroundImage="url('".concat(b,"')")}),(c=a.$el.dataset.lazySrc)&&(a.$el.style.backgroundImage="url('".concat(c,"')")),a.state="ready")}}},{key:"removeSlideEl",value:function(a){a.$el&&!a.isDom&&(this.trigger("removeSlide",a),a.$el.remove(),a.$el=null)}},{key:"markSelectedSlides",value:function(){var a=this,b=this.option("classNames.slideSelected");this.slides.forEach(function(c,e){var f=c.$el;if(f){var d=a.pages[a.page];d&&d.indexes&&-1<d.indexes.indexOf(e)?(b&&!f.classList.contains(b)&&(f.classList.add(b),a.trigger("selectSlide",c)),f.removeAttribute("aria-hidden")):(b&&f.classList.contains(b)&&(f.classList.remove(b),a.trigger("unselectSlide",c)),f.setAttribute("aria-hidden",!0))}})}},{key:"updatePage",value:function(){this.updateMetrics();this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack();this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var a=this.contentWidth,b=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||2>this.pages.length||a<b)){var c=this.Panzoom,d=!1;return c.content.x<-1*(a-b)&&(c.content.x+=a,this.pageIndex-=this.pages.length,d=!0),c.content.x>b&&(c.content.x-=a,this.pageIndex+=this.pages.length,d=!0),d&&"pointerdown"===c.state&&c.resetDragPosition(),d}}},{key:"onTouchEnd",value:function(a,b){var c=this.option("dragFree");if(!c&&1<this.pages.length&&350>a.dragOffset.time&&1>Math.abs(a.dragOffset.y)&&5<Math.abs(a.dragOffset.x))this[0>a.dragOffset.x?"slideNext":"slidePrev"]();else c?(c=L(this.getPageFromPosition(-1*a.transform.x),2)[1],this.setPage(c)):this.slideToClosest()}},{key:"slideToClosest",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=this.getPageFromPosition(-1*this.Panzoom.content.x),b=L(b,2)[1];this.slideTo(b,a)}},{key:"getPageFromPosition",value:function(a){var b=this.pages.length;this.option("center")&&(a+=.5*this.viewportWidth);var c=Math.floor(a/this.contentWidth);a-=c*this.contentWidth;var d=this.slides.find(function(b){return b.left<=a&&b.left+b.width>a});return d?(d=this.findPageForSlide(d.index),[d,d+c*b]):[0,0]}},{key:"setPage",value:function(a,b){var c,e=parseInt(a,10)||0,d=this.page,g=this.pageIndex,m=this.pages.length,p=this.contentWidth;c=this.viewportWidth;if(a=(e%m+m)%m,this.option("infiniteX",this.option("infinite"))&&p>c){if(c=this.pages[a].left+(Math.floor(e/m)||0)*p,!0===b&&2<m){var q=-1*this.Panzoom.content.x,t=c-p,p=c+p,x=Math.abs(q-c),u=Math.abs(q-t),q=Math.abs(q-p);q<x&&q<=u?(c=p,e+=m):u<x&&u<q&&(c=t,e-=m)}}else a=e=Math.max(0,Math.min(e,m-1)),c=this.pages.length?this.pages[a].left:0;return this.page=a,this.pageIndex=e,null!==d&&a!==d&&(this.prevPage=d,this.prevPageIndex=g,this.trigger("change",a,d)),c}},{key:"destroy",value:function(){var a=this;this.state="destroy";this.slides.forEach(function(b){a.removeSlideEl(b)});this.slides=[];this.Panzoom.destroy();this.detachPlugins()}}]),b}(E);R.version="4.0.9";R.Plugins=F;var ca=!("undefined"==typeof window||!window.document||!window.document.createElement),F=function(){function d(b){A(this,d);this.fancybox=b;this.pendingUpdate=this.viewport=null;b=0;for(var c=["onReady","onResize","onTouchstart","onTouchmove"];b<c.length;b++){var a=c[b];this[a]=this[a].bind(this)}}return C(d,[{key:"onReady",value:function(){var b=window.visualViewport;b&&(this.viewport=b,this.startY=0,b.addEventListener("resize",this.onResize),this.updateViewport());window.addEventListener("touchstart",this.onTouchstart,{passive:!1});window.addEventListener("touchmove",this.onTouchmove,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var b=this.viewport,c=b.scale||1,a=this.fancybox.$container;if(a){var e="",f="",d="";.1<c-1&&(e="".concat(b.width*c,"px"),f="".concat(b.height*c,"px"),d="translate3d(".concat(b.offsetLeft,"px, ").concat(b.offsetTop,"px, 0) scale(").concat(1/c,")"));a.style.width=e;a.style.height=f;a.style.transform=d}}},{key:"onTouchstart",value:function(b){this.startY=b.touches?b.touches[0].screenY:b.screenY}},{key:"onTouchmove",value:function(b){var c=this.startY,a=window.innerWidth/window.document.documentElement.clientWidth;if(b.cancelable&&!(1<b.touches.length||1!==a))if(a=fa(b.target)){var e=window.getComputedStyle(a),f=parseInt(e.getPropertyValue("height"),10),e=b.touches?b.touches[0].screenY:b.screenY,f=c>=e&&a.scrollHeight-a.scrollTop===f;(c<=e&&0===a.scrollTop||f)&&b.preventDefault()}else b.preventDefault()}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var b=this.viewport;b&&(b.removeEventListener("resize",this.onResize),this.viewport=null);window.removeEventListener("touchstart",this.onTouchstart,!1);window.removeEventListener("touchmove",this.onTouchmove,!1)}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady);this.cleanup()}}]),d}(),J=function(){function d(b){A(this,d);this.fancybox=b;this.$container=null;this.state="init";b=0;for(var c=["onPrepare","onClosing","onKeydown"];b<c.length;b++){var a=c[b];this[a]=this[a].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}return C(d,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(b,c){c===b.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var b=this;if(!this.$container){var c=document.createElement("div");c.classList.add("fancybox__thumbs");this.fancybox.$carousel.parentNode.insertBefore(c,this.fancybox.$carousel.nextSibling);this.Carousel=new R(c,D(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()}));this.Carousel.Panzoom.on("wheel",function(a,c){c.preventDefault();b.fancybox[0>c.deltaY?"prev":"next"]()});this.$container=c;this.state="visible"}}},{key:"getSlides",value:function(){var b,c=[],a=B(this.fancybox.items);try{for(a.s();!(b=a.n()).done;){var e=b.value,f=e.thumb;f&&c.push({html:'\x3cdiv class\x3d"fancybox__thumb" style\x3d"background-image:url(\''.concat(f,"')\"\x3e\x3c/div\x3e"),customClass:"has-thumb has-".concat(e.type||"image")})}}catch(k){a.e(k)}finally{a.f()}return c}},{key:"toggle",value:function(){"visible"===this.state?this.hide():"hidden"===this.state?this.show():this.build()}},{key:"show",value:function(){"hidden"===this.state&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}},{key:"hide",value:function(){"visible"===this.state&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null);this.$container&&(this.$container.remove(),this.$container=null);this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events);this.cleanup()}}]),d}();J.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{}};var ha=function(d){return Object.entries(d).map(function(b){return b.map(encodeURIComponent).join("\x3d")}).join("\x26")},ia={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'\x3cvideo class\x3d"fancybox__html5video" playsinline controls controlsList\x3d"nodownload" poster\x3d"{{poster}}"\x3e\n  \x3csource src\x3d"{{src}}" type\x3d"{{format}}" /\x3eSorry, your browser doesn\'t support embedded videos.\x3c/video\x3e',format:""}},G=function(){function d(b){A(this,d);this.fancybox=b;b=0;for(var c="onInit onReady onCreateSlide onRemoveSlide onSelectSlide onUnselectSlide onRefresh onMessage".split(" ");b<c.length;b++){var a=c[b];this[a]=this[a].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}return C(d,[{key:"onInit",value:function(){var b,c=B(this.fancybox.items);try{for(c.s();!(b=c.n()).done;)this.processType(b.value)}catch(a){c.e(a)}finally{c.f()}}},{key:"processType",value:function(b){if(b.html)return b.src=b.html,b.type="html",void delete b.html;var c=b.src||"",a=b.type||this.fancybox.options.type,e;if(!c||"string"==typeof c){if(e=c.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var a=ha(this.fancybox.option("Html.youtube")),f=encodeURIComponent(e[1]);b.videoId=f;b.src="https://www.youtube-nocookie.com/embed/".concat(f,"?").concat(a);b.thumb=b.thumb||"https://i.ytimg.com/vi/".concat(f,"/mqdefault.jpg");b.vendor="youtube";a="video"}else(e=c.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/))?(a=ha(this.fancybox.option("Html.vimeo")),f=encodeURIComponent(e[1]),b.videoId=f,b.src="https://player.vimeo.com/video/".concat(f,"?").concat(a),b.vendor="vimeo",a="video"):(e=c.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(b.src="//maps.google.".concat(e[1],"/?ll\x3d").concat((e[2]?e[2]+"\x26z\x3d"+Math.floor(e[3])+(e[4]?e[4].replace(/^\//,"\x26"):""):e[4]+"").replace(/\?/,"\x26"),"\x26output\x3d").concat(e[4]&&0<e[4].indexOf("layer\x3dc")?"svembed":"embed"),a="map"):(e=c.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(b.src="//maps.google.".concat(e[1],"/maps?q\x3d").concat(e[2].replace("query\x3d","q\x3d").replace("api\x3d1",""),"\x26output\x3dembed"),a="map");a||("#"===c.charAt(0)?a="inline":(e=c.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(a="html5video",b.format=b.format||"video/"+("ogv"===e[1]?"ogg":e[1])):c.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?a="image":c.match(/\.(pdf)((\?|#).*)?$/i)&&(a="pdf"));b.type=a||this.fancybox.option("defaultType","image");"html5video"!==a&&"video"!==a||(b.video=D({},this.fancybox.option("Html.video"),b.video),b._width&&b._height?b.ratio=parseFloat(b._width)/parseFloat(b._height):b.ratio=b.ratio||b.video.ratio||ia.video.ratio)}}},{key:"onReady",value:function(){var b=this;this.fancybox.Carousel.slides.forEach(function(c){c.$el&&(b.setContent(c),c.index===b.fancybox.getSlide().index&&b.playVideo(c))})}},{key:"onCreateSlide",value:function(b,c,a){"ready"===this.fancybox.state&&this.setContent(a)}},{key:"loadInlineContent",value:function(b){var c;b.src instanceof HTMLElement?c=b.src:"string"==typeof b.src&&(c=b.src.split("#",2),c=document.getElementById(2===c.length&&""===c[0]?c[1]:c[0]));if(c){if("clone"===b.type||c.$placeHolder){var a=(c=c.cloneNode(!0)).getAttribute("id"),a=a?"".concat(a,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(b.index);c.setAttribute("id",a)}else a=document.createElement("div"),a.classList.add("fancybox-placeholder"),c.parentNode.insertBefore(a,c),c.$placeHolder=a;this.fancybox.setContent(b,c)}else this.fancybox.setError(b,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(b){var c=this.fancybox,a=new XMLHttpRequest;c.showLoading(b);a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&"ready"===c.state&&(c.hideLoading(b),200===a.status?c.setContent(b,a.responseText):c.setError(b,404===a.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};a.open("GET",b.src);a.setRequestHeader("X-Requested-With","XMLHttpRequest");a.send(b.ajax||null);b.xhr=a}},{key:"loadIframeContent",value:function(b){var c=this,a=this.fancybox,e=document.createElement("iframe");if(e.className="fancybox__iframe",e.setAttribute("id","fancybox__iframe_".concat(a.id,"_").concat(b.index)),e.setAttribute("allow","autoplay; fullscreen"),e.setAttribute("scrolling","auto"),b.$iframe=e,"iframe"!==b.type||!1===b.preload)return e.setAttribute("src",b.src),this.fancybox.setContent(b,e),void this.resizeIframe(b);a.showLoading(b);var f=document.createElement("div");f.style.visibility="hidden";this.fancybox.setContent(b,f);f.appendChild(e);e.onerror=function(){a.setError(b,"{{IFRAME_ERROR}}")};e.onload=function(){a.hideLoading(b);var f=!1;e.isReady||(e.isReady=!0,f=!0);e.src.length&&(e.parentNode.style.visibility="",c.resizeIframe(b),f&&a.revealContent(b))};e.setAttribute("src",b.src)}},{key:"setAspectRatio",value:function(b){var c=b.$content,a=b.ratio;if(c){var e=b._width;b=b._height;if(a||e&&b){Object.assign(c.style,{width:e&&b?"100%":"",height:e&&b?"100%":"",maxWidth:"",maxHeight:""});var f=c.offsetWidth,d=c.offsetHeight;if(b=b||d,(e=e||f)>f||b>d)f=Math.min(f/e,d/b),e*=f,b*=f;.01<Math.abs(e/b-a)&&(a<e/b?e=b*a:b=e/a);Object.assign(c.style,{width:"".concat(e,"px"),height:"".concat(b,"px")})}}}},{key:"resizeIframe",value:function(b){var c=b.$iframe;if(c){var a=b._width||0,e=b._height||0;a&&e&&(b.autoSize=!1);var f=c.parentNode,d=f.style;if(!1!==b.preload&&!1!==b.autoSize)try{var h=window.getComputedStyle(f),g=parseFloat(h.paddingLeft)+parseFloat(h.paddingRight),m=parseFloat(h.paddingTop)+parseFloat(h.paddingBottom),p=c.contentWindow.document,q=p.getElementsByTagName("html")[0],t=p.body;t.style.overflow="hidden";a=a||q.scrollWidth+g;d.width="".concat(a,"px");t.style.overflow="";d.flex="0 0 auto";d.height="".concat(t.scrollHeight,"px");e=q.scrollHeight+m}catch(x){}if(a||e)b={flex:"0 1 auto"},a&&(b.width="".concat(a,"px")),e&&(b.height="".concat(e,"px")),Object.assign(d,b)}}},{key:"onRefresh",value:function(b,c){var a=this;c.slides.forEach(function(b){b.$el&&(b.$iframe&&a.resizeIframe(b),b.ratio&&a.setAspectRatio(b))})}},{key:"setContent",value:function(b){if(b&&!b.isDom){switch(b.type){case "html":this.fancybox.setContent(b,b.src);break;case "html5video":this.fancybox.setContent(b,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,b.src).replace("{{format}}",b.format||b.html5video&&b.html5video.format||"").replace("{{poster}}",b.poster||b.thumb||""));break;case "inline":case "clone":this.loadInlineContent(b);break;case "ajax":this.loadAjaxContent(b);break;case "iframe":case "pdf":case "video":case "map":this.loadIframeContent(b)}b.ratio&&this.setAspectRatio(b)}}},{key:"onSelectSlide",value:function(b,c,a){"ready"===b.state&&this.playVideo(a)}},{key:"playVideo",value:function(b){if("html5video"===b.type&&b.video.autoplay)try{var c=b.$el.querySelector("video");if(c){var a=c.play();void 0!==a&&a.then(function(){})["catch"](function(a){c.muted=!0;c.play()})}}catch(e){}"video"===b.type&&b.$iframe&&b.$iframe.contentWindow&&!function f(){if("done"===b.state&&b.$iframe&&b.$iframe.contentWindow){var a;if(b.$iframe.isReady)return b.video&&b.video.autoplay&&(a="youtube"==b.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(a&&b.$iframe.contentWindow.postMessage(JSON.stringify(a),"*"));"youtube"===b.vendor&&(a={event:"listening",id:b.$iframe.getAttribute("id")},b.$iframe.contentWindow.postMessage(JSON.stringify(a),"*"))}b.poller=setTimeout(f,250)}()}},{key:"onUnselectSlide",value:function(b,c,a){if("html5video"!==a.type)b=!1,"vimeo"==a.vendor?b={method:"pause",value:"true"}:"youtube"===a.vendor&&(b={event:"command",func:"pauseVideo"}),b&&a.$iframe&&a.$iframe.contentWindow&&a.$iframe.contentWindow.postMessage(JSON.stringify(b),"*"),clearTimeout(a.poller);else try{a.$el.querySelector("video").pause()}catch(e){}}},{key:"onRemoveSlide",value:function(b,c,a){a.xhr&&(a.xhr.abort(),a.xhr=null);a.$iframe&&(a.$iframe.onload=a.$iframe.onerror=null,a.$iframe.src="//about:blank",a.$iframe=null);b=a.$content;"inline"===a.type&&b&&(b.classList.remove("fancybox__content"),"none"!==b.style.display&&(b.style.display="none"));a.$closeButton&&(a.$closeButton.remove(),a.$closeButton=null);(a=b&&b.$placeHolder)&&(a.parentNode.insertBefore(b,a),a.remove(),b.$placeHolder=null)}},{key:"onMessage",value:function(b){try{var c=JSON.parse(b.data);if("https://player.vimeo.com"===b.origin){if("ready"===c.event){var a,e=B(document.getElementsByClassName("fancybox__iframe"));try{for(e.s();!(a=e.n()).done;){var f=a.value;f.contentWindow===b.source&&(f.isReady=1)}}catch(k){e.e(k)}finally{e.f()}}}else"https://www.youtube-nocookie.com"===b.origin&&"onReady"===c.event&&(document.getElementById(c.id).isReady=1)}catch(k){}}},{key:"attach",value:function(){this.fancybox.on(this.events);window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events);window.removeEventListener("message",this.onMessage,!1)}}]),d}();G.defaults=ia;var ja=function(){function d(b){A(this,d);this.fancybox=b;b=0;for(var c="onReady onClosing onDone onPageChange onCreateSlide onRemoveSlide onImageStatusChange".split(" ");b<c.length;b++){var a=c[b];this[a]=this[a].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}return C(d,[{key:"onReady",value:function(){var b=this;this.fancybox.Carousel.slides.forEach(function(c){c.$el&&b.setContent(c)})}},{key:"onDone",value:function(b,c){this.handleCursor(c)}},{key:"onClosing",value:function(b){clearTimeout(this.clickTimer);this.clickTimer=null;b.Carousel.slides.forEach(function(b){b.$image&&(b.state="destroy");b.Panzoom&&b.Panzoom.detachEvents()});"closing"===this.fancybox.state&&this.canZoom(b.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(b,c,a){"ready"===this.fancybox.state&&this.setContent(a)}},{key:"onRemoveSlide",value:function(b,c,a){a.$image&&(a.$el.classList.remove(b.option("Image.canZoomInClass")),a.$image.remove(),a.$image=null);a.Panzoom&&(a.Panzoom.destroy(),a.Panzoom=null);a.$el&&a.$el.dataset&&delete a.$el.dataset.imageFit}},{key:"setContent",value:function(b){var c=this;if(!(b.isDom||b.html||b.type&&"image"!==b.type||b.$image)){b.type="image";b.state="loading";var a=document.createElement("div");a.style.visibility="hidden";var e=document.createElement("img");e.addEventListener("load",function(a){a.stopImmediatePropagation();c.onImageStatusChange(b)});e.addEventListener("error",function(){c.onImageStatusChange(b)});e.src=b.src;e.alt="";e.draggable=!1;e.classList.add("fancybox__image");b.srcset&&e.setAttribute("srcset",b.srcset);b.sizes&&e.setAttribute("sizes",b.sizes);b.$image=e;var f=this.fancybox.option("Image.wrap");if(f){var d=document.createElement("div");d.classList.add("string"==typeof f?f:"fancybox__image-wrap");d.appendChild(e);a.appendChild(d);b.$wrap=d}else a.appendChild(e);b.$el.dataset.imageFit=this.fancybox.option("Image.fit");this.fancybox.setContent(b,a);e.complete||e.error?this.onImageStatusChange(b):this.fancybox.showLoading(b)}}},{key:"onImageStatusChange",value:function(b){var c=this,a=b.$image;a&&"loading"===b.state&&(a.complete&&a.naturalWidth&&a.naturalHeight?(this.fancybox.hideLoading(b),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(b),b.$el.addEventListener("wheel",function(a){return c.onWheel(b,a)},{passive:!1}),b.$content.addEventListener("click",function(a){return c.onClick(b,a)},{passive:!1}),this.revealContent(b)):this.fancybox.setError(b,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(b){var c=this;b.Panzoom||(b.Panzoom=new Q(b.$el,D(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:b.$wrap,content:b.$image,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),b.Panzoom.on("startAnimation",function(){c.fancybox.trigger("Image.startAnimation",b)}),b.Panzoom.on("endAnimation",function(){"zoomIn"===b.state&&c.fancybox.done(b);c.handleCursor(b);c.fancybox.trigger("Image.endAnimation",b)}),b.Panzoom.on("afterUpdate",function(){c.handleCursor(b);c.fancybox.trigger("Image.afterUpdate",b)}))}},{key:"revealContent",value:function(b){null===this.fancybox.Carousel.prevPage&&b.index===this.fancybox.options.startIndex&&this.canZoom(b)?this.zoomIn():this.fancybox.revealContent(b)}},{key:"getZoomInfo",value:function(b){var c=b.$thumb.getBoundingClientRect(),a=c.width,e=c.height,f=b.$content.getBoundingClientRect();b=f.width;var d=f.height,h=f.top-c.top,f=f.left-c.left,g=this.fancybox.option("Image.zoomOpacity");return"auto"===g&&(g=.1<Math.abs(a/e-b/d)),{top:h,left:f,scale:c.width/b,opacity:g}}},{key:"canZoom",value:function(b){var c=this.fancybox,a=c.$container;if(window.visualViewport&&1!==window.visualViewport.scale||!c.option("Image.zoom")||"contain"!==c.option("Image.fit"))return!1;c=b.$thumb;if(!c||"loading"===b.state)return!1;a.classList.add("fancybox__no-click");var e=c.getBoundingClientRect();this.fancybox.option("Image.ignoreCoveredThumbnail")?(b=document.elementFromPoint(e.left+1,e.top+1)===c,c=document.elementFromPoint(e.right-1,e.bottom-1)===c,c=b&&c):c=document.elementFromPoint(e.left+.5*e.width,e.top+.5*e.height)===c;return a.classList.remove("fancybox__no-click"),c}},{key:"zoomIn",value:function(){var b=this.fancybox,c=b.getSlide(),a=c.Panzoom,e=this.getZoomInfo(c),f=e.top,d=e.left,h=e.scale,e=e.opacity;c.state="zoomIn";b.trigger("reveal",c);a.panTo({x:-1*d,y:-1*f,scale:h,friction:0,ignoreBounds:!0});c.$content.style.visibility="";!0===e&&a.on("afterTransform",function(a){"zoomIn"!==c.state&&"zoomOut"!==c.state||(a.$content.style.opacity=Math.min(1,1-(1-a.content.scale)/(1-h)))});a.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var b=this,c=this.fancybox,a=c.getSlide(),e=a.Panzoom;if(e){a.state="zoomOut";c.state="customClosing";a.$caption&&(a.$caption.style.visibility="hidden");var f=this.fancybox.option("Image.zoomFriction"),d=function(c){var d=b.getZoomInfo(a),k=d.top,h=d.left,q=d.scale,d=d.opacity;c||d||(f*=.82);e.panTo({x:-1*h,y:-1*k,scale:q,friction:f,ignoreBounds:!0});f*=.98};window.addEventListener("scroll",d);e.once("endAnimation",function(){window.removeEventListener("scroll",d);c.destroy()});d()}}},{key:"handleCursor",value:function(b){if("image"===b.type&&b.$el){var c=b.Panzoom,a=this.fancybox.option("Image.click",!1,b),e=this.fancybox.option("Image.touch");b=b.$el.classList;var f=this.fancybox.option("Image.canZoomInClass"),d=this.fancybox.option("Image.canZoomOutClass");c&&"toggleZoom"===a?c&&1===c.content.scale&&.01<c.option("maxScale")-c.content.scale?(b.remove(d),b.add(f)):1<c.content.scale&&!e&&b.add(d):"close"===a&&b.add(d)}}},{key:"onWheel",value:function(b,c){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",c))switch(this.fancybox.option("Image.wheel")){case "zoom":b.Panzoom&&b.Panzoom.zoomWithWheel(c);break;case "close":this.fancybox.close();break;case "slide":this.fancybox[0>c.deltaY?"prev":"next"]()}}},{key:"onClick",value:function(b,c){var a=this;if("ready"===this.fancybox.state){var e=b.Panzoom;if(!e||!e.dragPosition.midPoint&&0===e.dragOffset.x&&0===e.dragOffset.y&&1===e.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var f=function(e){switch(e){case "toggleZoom":c.stopPropagation();b.Panzoom&&b.Panzoom.zoomWithClick(c);break;case "close":a.fancybox.close();break;case "next":c.stopPropagation(),a.fancybox.next()}},d=this.fancybox.option("Image.click");(e=this.fancybox.option("Image.doubleClick"))?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,f(e)):this.clickTimer=setTimeout(function(){a.clickTimer=null;f(d)},300):f(d)}}}},{key:"onPageChange",value:function(b,c){var a=b.getSlide();c.slides.forEach(function(b){b.Panzoom&&"done"===b.state&&b.index!==a.index&&b.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]),d}();ja.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};var ka=function(){var d=window.location.hash.substr(1),b=d.split("-"),c=1<b.length&&/^\+?\d+$/.test(b[b.length-1])&&parseInt(b.pop(-1),10)||null;return{hash:d,slug:b.join("-"),index:c}},sa=function(){function d(b){A(this,d);this.fancybox=b;b=0;for(var c=["onChange","onClosing"];b<c.length;b++){var a=c[b];this[a]=this[a].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing};this.hasCreatedHistory=!1;this.origHash="";this.timer=null}return C(d,[{key:"onChange",value:function(){var b=this,c=this.fancybox,a=c.Carousel;this.timer&&clearTimeout(this.timer);var e=null===a.prevPage,c=c.getSlide(),f=c.$trigger&&c.$trigger.dataset,d=window.location.hash.substr(1),h=!1;c.slug?h=c.slug:(f=f&&f.fancybox)&&f.length&&"true"!==f&&(h=f+(1<a.slides.length?"-"+(c.index+1):""));e&&(this.origHash=d!==h?this.origHash:"");h&&d!==h&&(this.timer=setTimeout(function(){try{window.history[e?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+"#"+h),e&&(b.hasCreatedHistory=!0)}catch(g){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose){if(!this.hasCreatedHistory)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash?"#"+this.origHash:""))}catch(b){}window.history.back()}}},{key:"attach",value:function(b){b.on(this.events)}},{key:"detach",value:function(b){b.off(this.events)}}],[{key:"startFromUrl",value:function(){if(d.Fancybox&&!d.Fancybox.getInstance()){var b=ka(),c=b.hash,a=b.slug,b=b.index;a&&(c=document.querySelector('[data-slug\x3d"'.concat(c,'"]')),(c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),d.Fancybox.getInstance())||(a=document.querySelectorAll('[data-fancybox\x3d"'.concat(a,'"]')),a.length&&(null===b&&1===a.length?c=a[0]:b&&(c=a[b-1]),c&&c.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))))}}},{key:"onHashChange",value:function(){var b=ka(),c=b.slug,b=b.index,a=d.Fancybox.getInstance();if(a){if(c){var e,f=a.Carousel,k=B(f.slides);try{for(k.s();!(e=k.n()).done;){var h=e.value;if(h.slug&&h.slug===c)return f.slideTo(h.index)}}catch(g){k.e(g)}finally{k.f()}e=a.getSlide();if((e=e.$trigger&&e.$trigger.dataset)&&e.fancybox===c)return f.slideTo(b-1)}a.plugins.Hash.hasSilentClose=!0;a.close()}d.startFromUrl()}},{key:"create",value:function(b){function c(){window.addEventListener("hashchange",d.onHashChange,!1);d.startFromUrl()}d.Fancybox=b;ca&&window.requestAnimationFrame(function(){/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",d.onHashChange,!1)}}]),d}(),H={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(d){H.pageXOffset=window.pageXOffset;H.pageYOffset=window.pageYOffset;d.requestFullscreen?d.requestFullscreen():d.mozRequestFullScreen?d.mozRequestFullScreen():d.webkitRequestFullscreen?d.webkitRequestFullscreen():d.msRequestFullscreen&&d.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},ta=function(){function d(b){A(this,d);this.fancybox=b;this.active=!1;this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}return C(d,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var b=this;if(this.active&&!this.timer){var c=this.fancybox.option("slideshow.delay",3E3);this.timer=setTimeout(function(){b.timer=null;b.fancybox.option("infinite")||b.fancybox.getSlide().index!==b.fancybox.Carousel.slides.length-1?b.fancybox.next():b.fancybox.jumpTo(0,{friction:0})},c);var a=this.$progress;a||((a=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(a,this.fancybox.$carousel),this.$progress=a,a.offsetHeight);a.style.transitionDuration="".concat(c,"ms");a.style.transform="scaleX(1)"}}},{key:"clearTimer",value:function(){clearTimeout(this.timer);this.timer=null;this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1;this.clearTimer();this.fancybox.$container.classList.remove("has-slideshow");document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():1<this.fancybox.Carousel.slides.length&&this.activate()}}]),d}(),la=function(){function d(b){var c=this;A(this,d);this.fancybox=b;this.$container=null;this.state="init";b=0;for(var a="onInit onPrepare onDone onKeydown onClosing onChange onSettle onRefresh".split(" ");b<a.length;b++){var e=a[b];this[e]=this[e].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return c.onRefresh()},"Image.startAnimation":function(a,b){return c.onRefresh(b)},"Image.afterUpdate":function(a,b){return c.onRefresh(b)}}}return C(d,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var b,c=!1,a=B(this.fancybox.items);try{for(a.s();!(b=a.n()).done;)if("image"===b.value.type){c=!0;break}}catch(k){a.e(k)}finally{a.f()}if(!c)return void(this.state="disabled")}var e;b=B(this.fancybox.option("Toolbar.display"));try{for(b.s();!(e=b.n()).done;){var f=e.value;if("close"===(M(f)?f.id:f)){this.fancybox.options.closeButton=!1;break}}}catch(k){b.e(k)}finally{b.f()}}},{key:"onPrepare",value:function(){if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new ta(this.fancybox),!this.fancybox.Carousel.prevPage&&(this.fancybox.option("slideshow.autoStart")&&this.Slideshow.activate(),this.fancybox.option("fullscreen.autoStart")&&!H.element())))try{H.activate(this.fancybox.$container)}catch(b){}}},{key:"onFsChange",value:function(){window.scrollTo(H.pageXOffset,H.pageYOffset)}},{key:"onSettle",value:function(){this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.getSlide().index!==this.fancybox.Carousel.slides.length-1||this.fancybox.option("infinite")?"done"===this.fancybox.getSlide().state&&this.Slideshow.setTimer():this.Slideshow.deactivate())}},{key:"onChange",value:function(){this.update();this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(b,c){c.index===b.getSlide().index&&(this.update(),this.Slideshow&&this.Slideshow.isActive()&&(this.fancybox.option("infinite")||c.index!==this.fancybox.Carousel.slides.length-1?this.Slideshow.setTimer():this.Slideshow.deactivate()))}},{key:"onRefresh",value:function(b){b&&b.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||b&&"done"!==b.state||this.Slideshow.deactivate())}},{key:"onKeydown",value:function(b,c,a){" "===c&&this.Slideshow&&(this.Slideshow.toggle(),a.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate();document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(b){var c,a;("div"===b.type?c=document.createElement("div"):(c=document.createElement("link"===b.type?"a":"button")).classList.add("carousel__button"),c.innerHTML=b.html,c.setAttribute("tabindex",b.tabindex||0),b["class"])&&(a=c.classList).add.apply(a,u(b["class"].split(" ")));b.label&&c.setAttribute("title",this.fancybox.localize("{{".concat(b.label,"}}")));b.click&&c.addEventListener("click",b.click.bind(this));"prev"===b.id&&c.setAttribute("data-fancybox-prev","");"next"===b.id&&c.setAttribute("data-fancybox-next","");b=c.querySelector("svg");return b&&(b.setAttribute("role","img"),b.setAttribute("tabindex","-1"),b.setAttribute("xmlns","http://www.w3.org/2000/svg")),c}},{key:"build",value:function(){var b=this;this.cleanup();var c,a=this.fancybox.option("Toolbar.items"),e=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],f=this.fancybox.plugins.Thumbs,d=B(this.fancybox.option("Toolbar.display"));try{var h=function(){var d=c.value,k=void 0,h=void 0;if(M(d)?(k=d.id,h=D({},a[k],d)):h=a[k=d],["counter","next","prev","slideshow"].includes(k)&&2>b.fancybox.items.length)return"continue";if("fullscreen"===k){if(!document.fullscreenEnabled||window.fullScreen)return"continue";document.addEventListener("fullscreenchange",b.onFsChange)}if("thumbs"===k&&(!f||"disabled"===f.state)||!h)return"continue";var g=h.position||"right";(d=e.find(function(a){return a.position===g}))&&d.items.push(h)};for(d.s();!(c=d.n()).done;)h()}catch(q){d.e(q)}finally{d.f()}d=document.createElement("div");d.classList.add("fancybox__toolbar");for(h=0;h<e.length;h++){var g=e[h];if(g.items.length){var m=document.createElement("div");m.classList.add("fancybox__toolbar__items");m.classList.add("fancybox__toolbar__items--".concat(g.position));var p,g=B(g.items);try{for(g.s();!(p=g.n()).done;)m.appendChild(this.createElement(p.value))}catch(q){g.e(q)}finally{g.f()}d.appendChild(m)}}this.fancybox.$carousel.parentNode.insertBefore(d,this.fancybox.$carousel);this.$container=d}},{key:"update",value:function(){var b,c=this.fancybox.getSlide(),a=c.index,e=this.fancybox.items.length,f=c.downloadSrc||("image"!==c.type||c.error?null:c.src),d=B(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(d.s();!(b=d.n()).done;){var h=b.value;f?(h.removeAttribute("disabled"),h.removeAttribute("tabindex"),h.setAttribute("href",f),h.setAttribute("download",f),h.setAttribute("target","_blank")):(h.setAttribute("disabled",""),h.setAttribute("tabindex",-1),h.removeAttribute("href"),h.removeAttribute("download"))}}catch(w){d.e(w)}finally{d.f()}var g;b=(b=c.Panzoom)&&b.option("maxScale")>b.option("baseScale");f=B(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(f.s();!(g=f.n()).done;){var m=g.value;b?m.removeAttribute("disabled"):m.setAttribute("disabled","")}}catch(w){f.e(w)}finally{f.f()}var p;g=B(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(g.s();!(p=g.n()).done;)p.value.innerHTML=c.index+1}catch(w){g.e(w)}finally{g.f()}var q,c=B(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(c.s();!(q=c.n()).done;)q.value.innerHTML=e}catch(w){c.e(w)}finally{c.f()}if(!this.fancybox.option("infinite")){var t;q=B(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(q.s();!(t=q.n()).done;){var u=t.value;0===a?u.setAttribute("disabled",""):u.removeAttribute("disabled")}}catch(w){q.e(w)}finally{q.f()}var v;t=B(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(t.s();!(v=t.n()).done;){var y=v.value;a===e-1?y.setAttribute("disabled",""):y.removeAttribute("disabled")}}catch(w){t.e(w)}finally{t.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer();this.$container&&this.$container.remove();this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events);this.cleanup()}}]),d}();la.defaults={display:"counter zoom slideshow fullscreen thumbs close".split(" "),autoEnable:!0,items:{counter:{type:"div","class":"fancybox__counter",html:'\x3cspan data-fancybox-index\x3d""\x3e\x3c/span\x3e\x26nbsp;/\x26nbsp;\x3cspan data-fancybox-count\x3d""\x3e\x3c/span\x3e',tabindex:-1,position:"left"},prev:{type:"button","class":"fancybox__button--prev",label:"PREV",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M15 4l-8 8 8 8"/\x3e\x3c/svg\x3e',click:function(d){d.preventDefault();this.fancybox.prev()}},next:{type:"button","class":"fancybox__button--next",label:"NEXT",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M8 4l8 8-8 8"/\x3e\x3c/svg\x3e',click:function(d){d.preventDefault();this.fancybox.next()}},fullscreen:{type:"button","class":"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\n                \x3cg\x3e\x3cpath d\x3d"M3 8 V3h5"\x3e\x3c/path\x3e\x3cpath d\x3d"M21 8V3h-5"\x3e\x3c/path\x3e\x3cpath d\x3d"M8 21H3v-5"\x3e\x3c/path\x3e\x3cpath d\x3d"M16 21h5v-5"\x3e\x3c/path\x3e\x3c/g\x3e\n                \x3cg\x3e\x3cpath d\x3d"M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/\x3e\x3c/g\x3e\n            \x3c/svg\x3e',click:function(d){d.preventDefault();H.element()?H.deactivate():H.activate(this.fancybox.$container)}},slideshow:{type:"button","class":"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\n                \x3cg\x3e\x3cpath d\x3d"M6 4v16"/\x3e\x3cpath d\x3d"M20 12L6 20"/\x3e\x3cpath d\x3d"M20 12L6 4"/\x3e\x3c/g\x3e\n                \x3cg\x3e\x3cpath d\x3d"M7 4v15M17 4v15"/\x3e\x3c/g\x3e\n            \x3c/svg\x3e',click:function(d){d.preventDefault();this.Slideshow.toggle()}},zoom:{type:"button","class":"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3ccircle cx\x3d"10" cy\x3d"10" r\x3d"7"\x3e\x3c/circle\x3e\x3cpath d\x3d"M16 16 L21 21"\x3e\x3c/svg\x3e',click:function(d){d.preventDefault();(d=this.fancybox.getSlide().Panzoom)&&d.toggleZoom()}},download:{type:"link",label:"DOWNLOAD","class":"fancybox__button--download",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/\x3e\x3c/svg\x3e',click:function(d){d.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS","class":"fancybox__button--thumbs",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3ccircle cx\x3d"4" cy\x3d"4" r\x3d"1" /\x3e\x3ccircle cx\x3d"12" cy\x3d"4" r\x3d"1" transform\x3d"rotate(90 12 4)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"4" r\x3d"1" transform\x3d"rotate(90 20 4)"/\x3e\x3ccircle cx\x3d"4" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 4 12)"/\x3e\x3ccircle cx\x3d"12" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 12 12)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"12" r\x3d"1" transform\x3d"rotate(90 20 12)"/\x3e\x3ccircle cx\x3d"4" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 4 20)"/\x3e\x3ccircle cx\x3d"12" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 12 20)"/\x3e\x3ccircle cx\x3d"20" cy\x3d"20" r\x3d"1" transform\x3d"rotate(90 20 20)"/\x3e\x3c/svg\x3e',click:function(d){d.stopPropagation();(d=this.fancybox.plugins.Thumbs)&&d.toggle()}},close:{type:"button",label:"CLOSE","class":"fancybox__button--close",html:'\x3csvg viewBox\x3d"0 0 24 24"\x3e\x3cpath d\x3d"M20 20L4 4m16 0L4 20"\x3e\x3c/path\x3e\x3c/svg\x3e',tabindex:0,click:function(d){d.stopPropagation();d.preventDefault();this.fancybox.close()}}}};var F={ScrollLock:F,Thumbs:J,Html:G,Toolbar:la,Image:ja,Hash:sa},ma={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 24 24" tabindex\x3d"-1"\x3e\x3cpath d\x3d"M20 20L4 4m16 0L4 20"/\x3e\x3c/svg\x3e',spinner:'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"50" height\x3d"50" viewBox\x3d"25 25 50 50" tabindex\x3d"-1"\x3e\x3ccircle cx\x3d"50" cy\x3d"50" r\x3d"20"/\x3e\x3c/svg\x3e',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},U={},ua=0,E=function(d){function b(a){var e,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return A(this,b),(e=c.call(this,D(!0,{},ma,f))).bindHandlers(),e.state="init",e.setItems(a),e.attachPlugins(b.Plugins),e.trigger("init"),!0===e.option("hideScrollbar")&&e.hideScrollbar(),e.initLayout(),e.initCarousel(),e.attachEvents(),U[e.id]=P(e),e.trigger("prepare"),e.state="ready",e.trigger("ready"),e.$container.setAttribute("aria-hidden","false"),e.option("trapFocus")&&e.focus(),e}V(b,d);var c=X(b);return C(b,[{key:"bindHandlers",value:function(){for(var a=0,b="onMousedown onKeydown onClick onFocus onCreateSlide onTouchMove onTouchEnd onTransform".split(" ");a<b.length;a++){var c=b[a];this[c]=this[c].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown);document.addEventListener("keydown",this.onKeydown,!0);this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0);this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown);document.removeEventListener("keydown",this.onKeydown,!0);document.removeEventListener("focus",this.onFocus,!0);this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var a=this;this.$root=this.option("parentEl")||document.body;var b=this.option("template.main");b&&(this.$root.insertAdjacentHTML("beforeend",this.localize(b)),this.$container=this.$root.querySelector(".fancybox__container"));this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container));this.$container.onscroll=function(){return a.$container.scrollLeft=0,!1};Object.entries({"class":"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(b){var c;return(c=a.$container).setAttribute.apply(c,u(b))});this.option("animated")&&this.$container.classList.add("is-animated");(this.$backdrop=this.$container.querySelector(".fancybox__backdrop"))||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop));(this.$carousel=this.$container.querySelector(".fancybox__carousel"))||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel));this.$container.Fancybox=this;(this.id=this.$container.getAttribute("id"))||(this.id=this.options.id||++ua,this.$container.setAttribute("id","fancybox-"+this.id));var c;(b=this.options.mainClass)&&(c=this.$container.classList).add.apply(c,u(b.split(" ")));return document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(a){var b,c=[];a=B(a);try{for(a.s();!(b=a.n()).done;){var d=b.value,h=d.$trigger;if(h){var g=h.dataset||{};d.src=g.src||h.getAttribute("href")||d.src;d.type=g.type||d.type;!d.src&&h instanceof HTMLImageElement&&(d.src=h.currentSrc||d.$trigger.src)}var m=d.$thumb;if(!m){var p=d.$trigger&&d.$trigger.origTarget;p&&(m=p instanceof HTMLImageElement?p:p.querySelector("img"));!m&&d.$trigger&&(m=d.$trigger instanceof HTMLImageElement?d.$trigger:d.$trigger.querySelector("img"))}d.$thumb=m||null;var q=d.thumb;!q&&m&&!(q=m.currentSrc||m.src)&&m.dataset&&(q=m.dataset.lazySrc||m.dataset.src);q||"image"!==d.type||(q=d.src);d.thumb=q||null;d.caption=d.caption||"";c.push(d)}}catch(t){a.e(t)}finally{a.f()}this.items=c}},{key:"initCarousel",value:function(){var a=this;return this.Carousel=new R(this.$carousel,D(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return a.Carousel&&a.Carousel.pages&&2>a.Carousel.pages.length&&!a.options.dragToClose},lockAxis:function(){if(a.Carousel){var b="x";return a.options.dragToClose&&(b+="y"),b}}},on:{"*":function(b){for(var c=arguments.length,e=Array(1<c?c-1:0),d=1;d<c;d++)e[d-1]=arguments[d];return a.trigger.apply(a,["Carousel.".concat(b)].concat(e))},init:function(b){return a.Carousel=b},createSlide:this.onCreateSlide}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(a,b){var c=b.caption||"";if("function"==typeof this.options.caption&&(c=this.options.caption.call(this,this,this.Carousel,b)),"string"==typeof c&&c.length){var e=document.createElement("div"),d="fancybox__caption_".concat(this.id,"_").concat(b.index);e.className="fancybox__caption";e.innerHTML=c;e.setAttribute("id",d);b.$caption=b.$el.appendChild(e);b.$el.classList.add("has-caption");b.$el.setAttribute("aria-labelledby",d)}}},{key:"onFocus",value:function(a){this.focus(a)}},{key:"onClick",value:function(a){if(!a.defaultPrevented&&!a.target.closest(".fancybox__content")&&!getSelection().toString().length&&!1!==this.trigger("click",a))switch(this.option("click")){case "close":this.close();break;case "next":this.next()}}},{key:"onTouchMove",value:function(){var a=this.getSlide().Panzoom;return!a||1===a.content.scale}},{key:"onTouchEnd",value:function(a){var b=a.dragOffset.y;150<=Math.abs(b)||35<=Math.abs(b)&&350>a.dragOffset.time?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(0>a.content.y?"Up":"Down")),this.close()):"y"===a.lockAxis&&a.panTo({y:0})}},{key:"onTransform",value:function(a){if(this.$backdrop){var b=Math.abs(a.content.y);a=1>b?"":Math.max(.33,Math.min(1,1-b/a.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",a?"0s":"");this.$container.style.setProperty("--fancybox-opacity",a)}}},{key:"onMousedown",value:function(){document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(a){if(b.getInstance().id===this.id){document.body.classList.remove("is-using-mouse");var c=a.key,f=this.option("keyboard");if(f&&!a.ctrlKey&&!a.altKey&&!a.shiftKey){var d=document.activeElement&&document.activeElement.classList,d=d&&d.contains("carousel__button");("Escape"===c||d||!a.target.isContentEditable&&-1==="BUTTON TEXTAREA OPTION INPUT SELECT VIDEO".split(" ").indexOf(a.target.nodeName))&&!1!==this.trigger("keydown",c,a)&&(a=f[c],"function"==typeof this[a]&&this[a]())}}}},{key:"getSlide",value:function(){var a=this.Carousel;if(!a)return null;var b=null===a.page?a.option("initialPage"):a.page,a=a.pages||[];return a.length&&a[b]?a[b].slides[0]:null}},{key:"focus",value:function(a){var c=function(a){if(a){b.ignoreFocusChange=!0;try{a.setActive?a.setActive():b.preventScrollSupported?a.focus({preventScroll:!0}):a.focus()}catch(x){}b.ignoreFocusChange=!1}};if(!(b.ignoreFocusChange||-1<["init","closing","customClosing","destroy"].indexOf(this.state))){var f=this.getSlide().$el;if(f){a&&a.preventDefault();for(var d,h=Array.from(this.$container.querySelectorAll('a[href] area[href] input:not([disabled]):not([type\x3d"hidden"]):not([aria-hidden]) select:not([disabled]):not([aria-hidden]) textarea:not([disabled]):not([aria-hidden]) button:not([disabled]):not([aria-hidden]) iframe object embed video audio [contenteditable] [tabindex]:not([tabindex^\x3d"-"]):not([disabled]):not([aria-hidden])'.split(" "))),g=[this.$container],m=0;m<h.length;m++){var p=h[m],q=f.contains(p);!p.offsetParent||!q&&this.Carousel.$viewport.contains(p)?(p.dataset.origTabindex=void 0===p.dataset.origTabindex?p.getAttribute("tabindex"):p.dataset.origTabindex,p.tabIndex=-1):(g.push(p),void 0!==p.dataset.origTabindex&&(p.tabIndex=p.dataset.tabindex,p.removeAttribute("data-tabindex")),(p.hasAttribute("autoFocus")||!d&&q)&&(d=p))}-1<g.indexOf(document.activeElement)?this.lastFocus=document.activeElement:a?f.contains(document.activeElement)||(this.lastFocus===g[1]?c(g[g.length-1]):(a=g.indexOf(this.lastFocus),a<g.length-2?c(g[a+1]):c(g[0])),this.lastFocus=document.activeElement):c(d||g[0])}}}},{key:"hideScrollbar",value:function(){if(ca){var a=window.innerWidth-document.documentElement.getBoundingClientRect().width,b=document.getElementById("fancybox-style-noscroll");b||0<a&&((b=document.createElement("style")).id="fancybox-style-noscroll",b.type="text/css",b.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(a,"px;}"),document.getElementsByTagName("head")[0].appendChild(b),document.body.classList.add("compensate-for-scrollbar"))}}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var a=document.getElementById("fancybox-style-noscroll");a&&a.remove()}},{key:"clearContent",value:function(a){this.Carousel.trigger("removeSlide",a);a.$content&&(a.$content.remove(),a.$content=null);a.$closeButton&&(a.$closeButton.remove(),a.$closeButton=null);a._className&&a.$el.classList.remove(a._className)}},{key:"setContent",value:function(a,b){var c,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=a.$el;if(b instanceof HTMLElement)-1<["img","iframe","video","audio"].indexOf(b.nodeName.toLowerCase())?(c=document.createElement("div")).appendChild(b):c=b;else{var g=document.createRange().createContextualFragment(b);(c=document.createElement("div")).appendChild(g)}if(a.filter&&!a.error&&(c=c.querySelector(a.filter)),c instanceof Element)return a._className="has-".concat(e.suffix||a.type||"unknown"),d.classList.add(a._className),c.classList.add("fancybox__content"),"none"!==c.style.display&&"none"!==getComputedStyle(c).getPropertyValue("display")||(c.style.display=a.display||this.option("defaultDisplay")||"flex"),a.id&&c.setAttribute("id",a.id),a.$content=c,d.prepend(c),this.manageCloseButton(a),"loading"!==a.state&&this.revealContent(a),c;this.setError(a,"{{ELEMENT_NOT_FOUND}}")}},{key:"manageCloseButton",value:function(a){var b=this,c=void 0===a.closeButton?this.option("closeButton"):a.closeButton;if(c&&("top"!==c||!this.$closeButton)){var d=document.createElement("button");d.classList.add("carousel__button","is-close");d.setAttribute("title",this.options.l10n.CLOSE);d.innerHTML=this.option("template.closeButton");d.addEventListener("click",function(a){return b.close(a)});"inside"===c?(a.$closeButton&&a.$closeButton.remove(),a.$closeButton=a.$content.appendChild(d)):this.$closeButton=this.$container.insertBefore(d,this.$container.firstChild)}}},{key:"revealContent",value:function(a){var b=this;this.trigger("reveal",a);a.$content.style.visibility="";var c=!1;a.error||"loading"===a.state||null!==this.Carousel.prevPage||a.index!==this.options.startIndex||(c=void 0===a.showClass?this.option("showClass"):a.showClass);c?(a.state="animating",this.animateCSS(a.$content,c,function(){b.done(a)})):this.done(a)}},{key:"animateCSS",value:function(a,b,c){(a&&a.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),a&&b)?(a.addEventListener("animationend",function h(e){e.currentTarget===this&&(a.removeEventListener("animationend",h),c&&c(),a.classList.remove(b))}),a.classList.add(b)):"function"==typeof c&&c()}},{key:"done",value:function(a){a.state="done";this.trigger("done",a);var b=this.getSlide();b&&a.index===b.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(a,b){a.error=b;this.hideLoading(a);this.clearContent(a);var c=document.createElement("div");c.classList.add("fancybox-error");c.innerHTML=this.localize(b||"\x3cp\x3e{{ERROR}}\x3c/p\x3e");this.setContent(a,c,{suffix:"error"})}},{key:"showLoading",value:function(a){var b=this;a.state="loading";a.$el.classList.add("is-loading");var c=a.$el.querySelector(".fancybox__spinner");c||((c=document.createElement("div")).classList.add("fancybox__spinner"),c.innerHTML=this.option("template.spinner"),c.addEventListener("click",function(){b.Carousel.Panzoom.velocity||b.close()}),a.$el.prepend(c))}},{key:"hideLoading",value:function(a){var b=a.$el&&a.$el.querySelector(".fancybox__spinner");b&&(b.remove(),a.$el.classList.remove("is-loading"));"loading"===a.state&&(this.trigger("load",a),a.state="ready")}},{key:"next",value:function(){var a=this.Carousel;a&&1<a.pages.length&&a.slideNext()}},{key:"prev",value:function(){var a=this.Carousel;a&&1<a.pages.length&&a.slidePrev()}},{key:"jumpTo",value:function(){var a;this.Carousel&&(a=this.Carousel).slideTo.apply(a,arguments)}},{key:"close",value:function(a){var b=this;if(a&&a.preventDefault(),!["closing","customClosing","destroy"].includes(this.state)&&!1!==this.trigger("shouldClose",a)&&(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",a),"destroy"!==this.state)){this.$container.setAttribute("aria-hidden","true");this.$container.classList.add("is-closing");var c=this.getSlide();if(this.Carousel.slides.forEach(function(a){a.$content&&a.index!==c.index&&b.Carousel.trigger("removeSlide",a)}),"closing"===this.state)a=void 0===c.hideClass?this.option("hideClass"):c.hideClass,this.animateCSS(c.$content,a,function(){b.destroy()},!0)}}},{key:"destroy",value:function(){if("destroy"!==this.state){this.state="destroy";this.trigger("destroy");var a=this.option("placeFocusBack")?this.getSlide().$trigger:null;if(this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,a)if(b.preventScrollSupported)a.focus({preventScroll:!0});else{var c=document.body.scrollTop;a.focus();document.body.scrollTop=c}delete U[this.id];(a=b.getInstance())?a.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}}}],[{key:"show",value:function(a){return new b(a,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"fromEvent",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(a.defaultPrevented||a.button&&0!==a.button||a.ctrlKey||a.metaKey||a.shiftKey)){var d,k,h,g=a.target;if((g.matches("[data-fancybox-trigger]")||(g=g.closest("[data-fancybox-trigger]")))&&(d=g&&g.dataset&&g.dataset.fancyboxTrigger),d){d=document.querySelectorAll('[data-fancybox\x3d"'.concat(d,'"]'));var m=parseInt(g.dataset.fancyboxIndex,10)||0,g=d.length?d[m]:g}g||(g=a.target);Array.from(b.openers.keys()).reverse().some(function(b){h=g;var c=!1;try{h instanceof Element&&("string"==typeof b||b instanceof String)&&(c=h.matches(b)||(h=h.closest(b)))}catch(t){}return!!c&&(a.preventDefault(),k=b,!0)});d=!1;k&&(c.event=a,c.target=h,h.origTarget=a.target,d=b.fromOpener(k,c),(c=b.getInstance())&&"ready"===c.state&&a.detail&&document.body.classList.add("is-using-mouse"));return d}}},{key:"fromOpener",value:function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=function(a){for(var b=["false","0","no","null","undefined"],c=["true","1","yes"],d=Object.assign({},a.dataset),e={},f=0,d=Object.entries(d);f<d.length;f++){var g=L(d[f],2),h=g[0],g=g[1];if("fancybox"!==h)if("width"===h||"height"===h)e["_".concat(h)]=g;else if("string"==typeof g||g instanceof String)if(-1<b.indexOf(g))e[h]=!1;else if(-1<c.indexOf(e[h]))e[h]=!0;else try{e[h]=JSON.parse(g)}catch(va){e[h]=g}else e[h]=g}return a instanceof Element&&(e.$trigger=a),e},k=[],h=c.startIndex||0,g=c.target||null,m=void 0===(c=D({},c,b.openers.get(a))).groupAttr?"data-fancybox":c.groupAttr,p=m&&g&&g.getAttribute("".concat(m)),q=void 0!==c.groupAll&&c.groupAll;if(q||p?(k=[].slice.call(document.querySelectorAll(a)),q||(k=k.filter(function(a){return a.getAttribute("".concat(m))===p}))):k=[g],!k.length)return!1;q=b.getInstance();return!(q&&-1<k.indexOf(q.options.$trigger))&&(h=g?k.indexOf(g):h,new b(k=k.map(d),D({},c,{startIndex:h,$trigger:g})))}},{key:"bind",value:function(a){function c(){document.body.addEventListener("click",b.fromEvent,!1)}var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ca&&(b.openers.size||(/complete|interactive|loaded/.test(document.readyState)?c():document.addEventListener("DOMContentLoaded",c)),b.openers.set(a,d))}},{key:"unbind",value:function(a){b.openers["delete"](a);b.openers.size||b.destroy()}},{key:"destroy",value:function(){for(var a;a=b.getInstance();)a.destroy();b.openers=new Map;document.body.removeEventListener("click",b.fromEvent,!1)}},{key:"getInstance",value:function(a){return a?U[a]:Object.values(U).reverse().find(function(a){return!["closing","customClosing","destroy"].includes(a.state)&&a})||null}},{key:"close",value:function(){for(var a=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],c;(c=b.getInstance())&&(c.close(),a););}}]),b}(E);E.version="4.0.9";E.defaults=ma;E.openers=new Map;E.Plugins=F;E.bind("[data-fancybox]");F=0;for(J=Object.entries(E.Plugins||{});F<J.length;F++)G=L(J[F],2),G[0],G=G[1],"function"==typeof G.create&&G.create(E);I.Carousel=R;I.Fancybox=E;I.Panzoom=Q});